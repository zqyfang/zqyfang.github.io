<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Node群聊实现（基石版本）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Node群聊实现（基石版本）/" class="article-date">
  <time datetime="2017-08-06T13:22:10.524Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Node群聊实现（基石版本）/">Node群聊入门版本</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="项目搭建"><a href="#项目搭建" class="headerlink" title="项目搭建"></a>项目搭建</h1><hr>
<pre><code>默认对node构建工具有基本了解
</code></pre><hr>
<h2 id="工具配置"><a href="#工具配置" class="headerlink" title="工具配置"></a>工具配置</h2><ul>
<li>atom编辑器</li>
<li>nvm使用6.0+版本</li>
<li>express4+</li>
<li>socket.io最新版本</li>
</ul>
<h3 id="atom配置"><a href="#atom配置" class="headerlink" title="atom配置"></a>atom配置</h3><blockquote>
<p>atom-ternjs配置代码提示，生成配置文件如下。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;ecmaVersion&quot;: 6,</div><div class="line">  &quot;libs&quot;: [],</div><div class="line">  &quot;loadEagerly&quot;: [</div><div class="line">    &quot;**/*.js&quot;</div><div class="line">  ],</div><div class="line">  &quot;plugins&quot;: &#123;</div><div class="line">    &quot;node&quot;: &#123;&#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="项目初始化"><a href="#项目初始化" class="headerlink" title="项目初始化"></a>项目初始化</h3><blockquote>
<p>npm init根据提示生成即可</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;name&quot;: &quot;socket-chat&quot;,</div><div class="line">  &quot;version&quot;: &quot;0.0.1&quot;,</div><div class="line">  &quot;description&quot;: &quot;my first io&quot;,</div><div class="line">  &quot;main&quot;: &quot;a.js&quot;,</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</div><div class="line">  &#125;,</div><div class="line">  &quot;author&quot;: &quot;qiang&quot;,</div><div class="line">  &quot;license&quot;: &quot;ISC&quot;,</div><div class="line">  &quot;dependencies&quot;: &#123;</div><div class="line">    &quot;express&quot;: &quot;^4.14.0&quot;,</div><div class="line">    &quot;socket.io&quot;: &quot;^1.7.2&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>其中dependencies后期添加</p>
</blockquote>
<h3 id="依赖配置"><a href="#依赖配置" class="headerlink" title="依赖配置"></a>依赖配置</h3><ul>
<li>npm install –save express</li>
<li>npm install –save socket.io</li>
</ul>
<h2 id="代码部分"><a href="#代码部分" class="headerlink" title="代码部分"></a>代码部分</h2><h3 id="HTML代码"><a href="#HTML代码" class="headerlink" title="HTML代码"></a>HTML代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;Socket.IO chat&lt;/title&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">      * &#123; margin: 0; padding: 0; box-sizing: border-box; &#125;</div><div class="line">      body &#123; font: 13px Helvetica, Arial; &#125;</div><div class="line">      form &#123; background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; &#125;</div><div class="line">      form input &#123; border: 0; padding: 10px; width: 90%; margin-right: .5%; &#125;</div><div class="line">      form button &#123; width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; &#125;</div><div class="line">      #messages &#123; list-style-type: none; margin: 0; padding: 0; &#125;</div><div class="line">      #messages li &#123; padding: 5px 10px; &#125;</div><div class="line">      #messages li:nth-child(odd) &#123; background: #eee; &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;script src=&quot;/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;</div><div class="line">  &lt;script src=&quot;http://code.jquery.com/jquery-1.11.1.js&quot;&gt;&lt;/script&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;ul id=&quot;messages&quot;&gt;&lt;/ul&gt;</div><div class="line">    &lt;form action=&quot;&quot;&gt;</div><div class="line">      &lt;!-- autocomplete=&quot;off&quot; 是否让浏览器自动记录值--&gt;</div><div class="line">      &lt;input id=&quot;m&quot; autocomplete=&quot;off&quot; /&gt;&lt;button&gt;Send&lt;/button&gt;</div><div class="line">    &lt;/form&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：在body上面引用js依赖</p>
</blockquote>
<h3 id="js部分代码（客户端代码）"><a href="#js部分代码（客户端代码）" class="headerlink" title="js部分代码（客户端代码）"></a>js部分代码（客户端代码）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  const socket = io();</div><div class="line">  $(&apos;form&apos;).submit(function()&#123;</div><div class="line">  socket.emit(&apos;chat&apos;, $(&apos;#m&apos;).val());</div><div class="line">  //清楚提交之后输入框的文字</div><div class="line">  $(&apos;#m&apos;).val(&apos;&apos;);</div><div class="line">  //防止表单自动提交，如果不写默认返回true，这样的话自己的聊天页面会一直刷新</div><div class="line">  //相当于每次发消息都在提交表单，这样就会一直没有聊天记录</div><div class="line">  return false;</div><div class="line">&#125;);</div><div class="line">socket.on(&apos;chat&apos;, (msg) =&gt; &#123;</div><div class="line">   $(&apos;#messages&apos;).append($(&apos;&lt;li&gt;&apos;).text(msg));</div><div class="line"> &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：此部分代码放到html下部，最下面即可。</p>
</blockquote>
<h3 id="服务器端代码"><a href="#服务器端代码" class="headerlink" title="服务器端代码"></a>服务器端代码</h3><blockquote>
<p>解析直接代码内部注释</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">const app = require(&apos;express&apos;)();</div><div class="line">const http = require(&apos;http&apos;).Server(app);</div><div class="line">const io = require(&apos;socket.io&apos;)(http);</div><div class="line">app.get(&apos;/&apos;, (req, res) =&gt; &#123;</div><div class="line">  res.sendFile(`$&#123;__dirname&#125;/index.html`);</div><div class="line">&#125;);</div><div class="line">io.on(&apos;connection&apos;, (socket) =&gt; &#123;</div><div class="line">  // console.log(&apos;a user connected&apos;);</div><div class="line">  //监听是否断开链接</div><div class="line">  // socket.on(&apos;disconnect&apos;, () =&gt; &#123;</div><div class="line">  //   console.log(&apos;user disconnected&apos;);</div><div class="line">  // &#125;);</div><div class="line">  //监听客户端的</div><div class="line">  socket.on(&apos;chat&apos;, (msg) =&gt; &#123;</div><div class="line">    //监听消息体，打印到控制台</div><div class="line">    // console.log(`message: $&#123;msg&#125;`);</div><div class="line">    //发送到所有监听chat message对象</div><div class="line">    io.emit(&apos;chat&apos;, msg);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line">//创建服务器</div><div class="line">http.listen(3000);</div></pre></td></tr></table></figure>
<hr>
<pre><code>至此：基本使用告一段落，后期可以扩展用户名，验证各方面，登录登出提醒。
</code></pre><hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Node群聊实现（基石版本）/" data-id="cj60seecb001g60nk9e8qcvil" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Node超简单登录提交" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Node超简单登录提交/" class="article-date">
  <time datetime="2017-08-06T13:22:10.522Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Node超简单登录提交/">Node超简单登录提交(权当知识点案例)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Node内置http服务器"><a href="#Node内置http服务器" class="headerlink" title="Node内置http服务器"></a>Node内置http服务器</h1><blockquote>
<p>短短代码实现服务器</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//引入http模块</div><div class="line">var http=require(&quot;http&quot;);</div><div class="line">http.createServer(function (req,rep) &#123;</div><div class="line">  rep.writehead(200,&#123;&apos;Content-Type&apos;:&apos;text/html&apos;&#125;);</div><div class="line">  req.write(&apos;&lt;h1&gt;哈哈&lt;/h1&gt;&apos;);</div><div class="line">  req.end()；//此句不加会阻塞</div><div class="line">&#125;).listen(3000);</div></pre></td></tr></table></figure>
<h1 id="path解析模块"><a href="#path解析模块" class="headerlink" title="path解析模块"></a>path解析模块</h1><blockquote>
<p>var query=require(‘querystring’);</p>
</blockquote>
<h1 id="登录提交案例"><a href="#登录提交案例" class="headerlink" title="登录提交案例"></a>登录提交案例</h1><h2 id="创建服务器"><a href="#创建服务器" class="headerlink" title="创建服务器"></a>创建服务器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">var http=require(&quot;http&quot;);</div><div class="line">var query=require(&apos;querystring&apos;);</div><div class="line">http.createServer(function (req,rsp) &#123;</div><div class="line">  switch(req.url)&#123;</div><div class="line">    case &apos;/login&apos;:</div><div class="line">    switchPager(req,rsp);</div><div class="line">    break;</div><div class="line">    case &apos;/post&apos;:</div><div class="line">    postmethod(req,rsp);</div><div class="line">    break;</div><div class="line">    default:</div><div class="line">    rsp.writeHead(404,&#123;&#125;);</div><div class="line">    rsp.end();</div><div class="line">    break;</div><div class="line">  &#125;</div><div class="line">&#125;).listen(3000);</div></pre></td></tr></table></figure>
<hr>
<pre><code>解析：浏览器127.0.0.1：3000之后跟的是/login时候相应第一条switch语句，当不符合上面两条时候，相应default，404页面。
</code></pre><hr>
<h2 id="对应提交方法"><a href="#对应提交方法" class="headerlink" title="对应提交方法"></a>对应提交方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function postmethod(req,rsp) &#123;</div><div class="line">  var str=&quot;&quot;;</div><div class="line">  req.on(&quot;data&quot;,function (info) &#123;</div><div class="line">    str+=info;</div><div class="line">  &#125;);</div><div class="line">  req.on(&quot;end&quot;,function () &#123;</div><div class="line">    var info=query.parse(str);</div><div class="line">    console.log(info);</div><div class="line">  &#125;);</div><div class="line">  rsp.end();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<pre><code>解析：query.parse(str);解析得到的字符串为对象，结果是：{ user: &apos;asd&apos;, pass: &apos;afsa&apos; }。
另外，req的on监听，有data和end事件，node数据是一段段存在的字符串，str得到完整的，当完毕触发end事件。
</code></pre><hr>
<h2 id="对应登录方法"><a href="#对应登录方法" class="headerlink" title="对应登录方法"></a>对应登录方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">O(∩_∩)O：超级蠢笨的方式显示页面，但是此时只涉及基础知识点，这样方便理解，使用模板引擎反而不好。</div><div class="line"></div><div class="line"></div><div class="line">function switchPager(req,rsp) &#123;</div><div class="line">rsp.writeHead(200,&#123;&apos;Content-Type&apos;:&apos;text/html&apos;&#125;);</div><div class="line">rsp.write(&apos;&lt;!DOCTYPE html&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;html lang=&quot;en&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;head&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;meta charset=&quot;UTF-8&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;title&gt;Document&lt;/title&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/head&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;body&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;form class=&quot;&quot; action=&quot;/post&quot; method=&quot;post&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;table border=&quot;1&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;用户名&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;user&quot; value=&quot;&quot;&gt;&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;密码&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;pass&quot; value=&quot;&quot;&gt;&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;提交&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;&lt;input type=&quot;submit&quot;&gt;&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/table&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/form&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/body&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/html&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;script type=&quot;text/javascript&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/script&gt;&apos;);</div><div class="line">rsp.end();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="全部代码"><a href="#全部代码" class="headerlink" title="全部代码"></a>全部代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">var http=require(&quot;http&quot;);</div><div class="line">var query=require(&apos;querystring&apos;);</div><div class="line">http.createServer(function (req,rsp) &#123;</div><div class="line">  switch(req.url)&#123;</div><div class="line">    case &apos;/login&apos;:</div><div class="line">    switchPager(req,rsp);</div><div class="line">    break;</div><div class="line">    case &apos;/post&apos;:</div><div class="line">    postmethod(req,rsp);</div><div class="line">    break;</div><div class="line">    default:</div><div class="line">    rsp.writeHead(404,&#123;&#125;);</div><div class="line">    rsp.end();</div><div class="line">    break;</div><div class="line">  &#125;</div><div class="line">&#125;).listen(3000);</div><div class="line">function postmethod(req,rsp) &#123;</div><div class="line">  var str=&quot;&quot;;</div><div class="line">  req.on(&quot;data&quot;,function (info) &#123;</div><div class="line">    str+=info;</div><div class="line">  &#125;);</div><div class="line">  req.on(&quot;end&quot;,function () &#123;</div><div class="line">    var info=query.parse(str);</div><div class="line">    console.log(info);</div><div class="line">  &#125;);</div><div class="line">  rsp.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line">function switchPager(req,rsp) &#123;</div><div class="line">rsp.writeHead(200,&#123;&apos;Content-Type&apos;:&apos;text/html&apos;&#125;);</div><div class="line">rsp.write(&apos;&lt;!DOCTYPE html&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;html lang=&quot;en&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;head&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;meta charset=&quot;UTF-8&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;title&gt;Document&lt;/title&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/head&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;body&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;form class=&quot;&quot; action=&quot;/post&quot; method=&quot;post&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;table border=&quot;1&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;用户名&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;user&quot; value=&quot;&quot;&gt;&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;密码&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;pass&quot; value=&quot;&quot;&gt;&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;提交&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;td&gt;&lt;input type=&quot;submit&quot;&gt;&lt;/td&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/tr&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/table&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/form&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/body&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/html&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;script type=&quot;text/javascript&quot;&gt;&apos;);</div><div class="line">rsp.write(&apos;&lt;/script&gt;&apos;);</div><div class="line">rsp.end();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p><strong>效果图</strong></p>
</blockquote>
<p><img src="http://i.imgur.com/MVeocyh.jpg" alt="登录页面"></p>
<h1 id="补充几个npm命令"><a href="#补充几个npm命令" class="headerlink" title="补充几个npm命令"></a>补充几个npm命令</h1><hr>
<pre><code>npm install bootstrap :安装bootstrap
npm install bootstrap --save: 安装bootstrap并且在配置文件中添加dependencies依赖
这样一来，下次如果共享代码，通过配置文件，执行npm install就会安装所有依赖。
npm install bootstrap --save-dev:在配置文件的devdependenies中添加该依赖，即开发中需要用到，生产环境不用到的情况下，并且安装bootstrap
npm intsall bootstrap -g全局安装
</code></pre><hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Node超简单登录提交/" data-id="cj60seecc001i60nkcazmdfw7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MySQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/MySQL/" class="article-date">
  <time datetime="2017-08-06T13:22:10.521Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/MySQL/">MySQL总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="数据库语言分类"><a href="#数据库语言分类" class="headerlink" title="数据库语言分类"></a>数据库语言分类</h1><hr>
<pre><code>DDL:数据定义语言,定义数据库对象：库、表、列等(create alter drop)
DML:数据操作语言，操作数据库表中的记录(数据) (insert update delete)
DQL:数据查询语言，查询记录 (select)
DCL:数据控制语言，定义访问权限和安全级别
</code></pre><hr>
<h1 id="数据库相关命令"><a href="#数据库相关命令" class="headerlink" title="数据库相关命令"></a>数据库相关命令</h1><hr>
<pre><code>登录：mysql -uroot -p123
退出：exit|quit
查看数据库：show databases;
停止MySQL服务：net stopmysql
启动MySQL服务：net startmyql
访问远程数据库：mysql -h 127.0.0.1 -u root -p回车，然后输入密码
远程时候直接输入对应ip地址即可，127.0.0.1等效于localhost
</code></pre><hr>
<h2 id="修改root密码步骤："><a href="#修改root密码步骤：" class="headerlink" title="修改root密码步骤："></a>修改root密码步骤：</h2><hr>
<pre><code>1) 停止MySQL服务 可以使用命令或者运行service.msc 然后停止mysql服务
2) 输入mysql --skip-grant-tables 启动服务，光标不动，窗口不关闭
3) 新打开窗口，输入mysql -u root -p不需要密码
use mysql
update user set password=password(&apos;abc&apos;)WHERE User=&apos;root&apos;;
4) 关闭两个窗口，任务管理器结束MySQLld进程
5) 在服务管理器页面，重启mysql服务，或命令行启动
</code></pre><hr>
<h1 id="专业术语"><a href="#专业术语" class="headerlink" title="专业术语"></a>专业术语</h1><hr>
<pre><code>列：字段
行：一条记录(实体)
</code></pre><hr>
<h1 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h1><blockquote>
<p>CREATE {DATABASE|SCHEMA}[IF NOT EXISTS] db_name [create_specification….]</p>
</blockquote>
<h2 id="库级操作：DDL"><a href="#库级操作：DDL" class="headerlink" title="库级操作：DDL"></a>库级操作：DDL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">#创建名字mydb1数据库</div><div class="line">CREATE DATABASE mydb1</div><div class="line">#创建一个使用gbk字符集的mydb2数据库</div><div class="line">CREATE DATABASE mydb2 CHARACTER SET gbk;</div><div class="line">#创建一个使用gbk字符集，并带有校对规则的mydb3</div><div class="line">CREATE DATABASE mydb3 CHARACTER SET gbk COLLATE gbk_chinese_ci;</div><div class="line">#查询已创建数据库的详细信息</div><div class="line">SHOW CREATE DATABASE mydb2;</div><div class="line">#修改mydb2字符集为utf8</div><div class="line">ALTER DATABASE mydb2 CHARACTER SET utf8;</div><div class="line">#查询数据库</div><div class="line">SHOW DATABASES;</div><div class="line">#列出可用字符集,一般校对规则的都是靠这个查询出来，例如上面gbk_chinese_ci</div><div class="line">SHOW CHARACTER SET;</div><div class="line">#删除数据库</div><div class="line">DROP DATABASE mydb2;</div><div class="line">#查看当前使用数据库</div><div class="line">SELECT DATABASE();</div><div class="line">#切换数据库</div><div class="line">USE mydb2;</div></pre></td></tr></table></figure>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">int 整型  两个字节</div><div class="line">    tinyint 一个字节</div><div class="line">    smallint 两个字节</div><div class="line">    bigint  八个字节</div><div class="line">float  类似于double，只不过精度比不上double</div><div class="line">double 浮点型 double(5,2) 最多五位，其中两位必须为小数</div><div class="line">char 固定长度字符串类型  char(10) &apos;abc        &apos;</div><div class="line">varchar 可变长度字符串类型 varchar(10)  &apos;abc&apos;</div><div class="line">text 字符串类型 限制4M左右</div><div class="line">blob  字节类型  图片视频音频</div><div class="line">date  日期类型 yyyy-MM--dd</div><div class="line">time  时间类型  hh:mm:ss</div><div class="line">timestamp 时间戳类型  yyyy-MM-dd hh:mm:ss 会自动赋值</div><div class="line">datetime  日期时间类型  yyyy-MM-dd hh:mm:ss</div><div class="line">bool 使用0或1表示真或假</div></pre></td></tr></table></figure>
<h2 id="表级操作-DDL"><a href="#表级操作-DDL" class="headerlink" title="表级操作 DDL"></a>表级操作 DDL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">注意：创建表table名称后面跟的是()不是&#123;&#125;</div><div class="line">#创建一个员工表</div><div class="line">CREATE TABLE emp(</div><div class="line">	id INT,</div><div class="line">	NAME VARCHAR(30),</div><div class="line">	gender VARCHAR(30),</div><div class="line">	birthday DATE,</div><div class="line">	Entry_date DATE,</div><div class="line">	job VARCHAR(30),</div><div class="line">	Salary DOUBLE(10,4),</div><div class="line">	RESUME VARCHAR(200)</div><div class="line">);</div><div class="line">#查询当前数据库中所有表</div><div class="line">SHOW TABLES;</div><div class="line">#增加数据库中指定表的一列,其中COLUMN(列)可省略，默认就是增加列(字段)</div><div class="line">ALTER TABLE emp ADD COLUMN image BLOB;</div><div class="line">#修改job列，使长度变为60</div><div class="line">ALTER TABLE emp MODIFY job VARCHAR(60);</div><div class="line">#删除表</div><div class="line">DROP TABLE emp;</div><div class="line">#删除列image</div><div class="line">ALTER TABLE emp DROP image;</div><div class="line">#修改表名</div><div class="line">RENAME TABLE emp TO USER;</div><div class="line">#查看表的字段信息</div><div class="line">DESC USER;</div><div class="line">#查看表创建信息</div><div class="line">SHOW CREATE TABLE USER;</div><div class="line">#修改表的字符集为gbk</div><div class="line">ALTER TABLE USER CHARACTER SET gbk;</div><div class="line">#修改列名name为username</div><div class="line">ALTER TABLE USER CHANGE NAME username VARCHAR(100);</div></pre></td></tr></table></figure>
<h2 id="表数据操作-DML"><a href="#表数据操作-DML" class="headerlink" title="表数据操作 DML"></a>表数据操作 DML</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">#向表emp中添加数据</div><div class="line">INSERT INTO emp(id,NAME,gender,birthday,Entry_date,job,Salary,RESUME) </div><div class="line">VALUES(3,&apos;张弘扬&apos;,&apos;male&apos;,&apos;1980-09-24&apos;,&apos;2015-09-25&apos;,&apos;Android&apos;,30000,&apos;good boy&apos;);</div><div class="line">#添加时候，如果value值全部填写了，可以省略(id,NAME,gender,birthday,Entry_date,job,Salary,RESUME) </div><div class="line">INSERT INTO emp VALUES(4,&apos;曾强&apos;,&apos;male&apos;,&apos;1992-01-16&apos;,&apos;2015-09-25&apos;,&apos;Android&apos;,10000,&apos;good boy&apos;);</div><div class="line">#修改id为1的员工薪水为5000,如果不写where条件，则所有员工薪水都改了</div><div class="line">UPDATE emp SET Salary=5000 WHERE id=1;</div><div class="line">#将姓名为‘tom’的员工的薪水修改为4000，job修改为‘ios’</div><div class="line">UPDATE emp SET Salary=4000,job=&apos;ios&apos; WHERE NAME=&apos;tom&apos;;</div><div class="line">#将张弘扬的工资在以前基础上加10000</div><div class="line">UPDATE emp SET Salary=Salary+10000 WHERE NAME=&apos;张弘扬&apos;;</div><div class="line">#删除名字为tom的行，不加where删除emp表</div><div class="line">DELETE FROM emp WHERE NAME=&apos;tom&apos;;</div><div class="line">#删除表</div><div class="line">TRUNCATE TABLE emp;</div><div class="line">#delete删除表中数据，是删除数据，表结构还在，删除数据还可以找回，恢复数据根据日志</div><div class="line">#TRUNCATE直接drop表，在创建一个同样新表，删除数据不能找回，执行速度比delete快</div><div class="line">#彻底删除表，连结构都么有了</div><div class="line">DROP TABLE emp;</div></pre></td></tr></table></figure>
<h2 id="表数据查询操作-DQL"><a href="#表数据查询操作-DQL" class="headerlink" title="表数据查询操作 DQL"></a>表数据查询操作 DQL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">SELECT 列名 FROM 表名 [WHERE --&gt;GROUP BY --&gt;HAVING --&gt; ORDER BY]</div><div class="line">WHERE可以使用如下运算符以及关键字：</div><div class="line">= （!= &lt;&gt;  这两者等效，都是不等于）  &lt; &lt;=  &gt; &gt;=</div><div class="line">BETWEEN AND </div><div class="line">IN(可以放入多个值利用逗号隔开即可)</div><div class="line">IS NULL  IS NOT NULL</div><div class="line">AND</div><div class="line">OR</div><div class="line">NOT  NOT IN</div></pre></td></tr></table></figure>
<h3 id="基本查询"><a href="#基本查询" class="headerlink" title="基本查询"></a>基本查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">SELECT * FROM stu;</div><div class="line">#查询name id 两列</div><div class="line">SELECT id,NAME FROM emp;</div><div class="line">#查询性别为女，年龄65的记录</div><div class="line">SELECT * FROM stu WHERE gender=&apos;female&apos; AND age=65;</div><div class="line">#查询学号为s_1001或者姓名为lisi的记录</div><div class="line">SELECT * FROM stu WHERE sid=&apos;S_1001&apos; OR same=&apos;lisi&apos;;</div><div class="line">#查询学号为s_1001,s_1002,s_1003的记录,可以使用in和or</div><div class="line">SELECT * FROM stu WHERE sid IN(&apos;S_1001&apos;,&apos;S_1002&apos;,&apos;S_1003&apos;);</div><div class="line">#查询年龄为null的记录</div><div class="line">SELECT * FROM stu WHERE age IS NULL;</div><div class="line">#查询年龄在20-40 的记录</div><div class="line">SELECT *FROM stu WHERE age BETWEEN 20 AND 40;</div><div class="line">SELECT * FROM stu WHERE age&gt;=20 AND age&lt;=40;</div><div class="line">#查询性别不是男生的记录</div><div class="line">SELECT * FROM stu WHERE gender!=&apos;male&apos;;</div></pre></td></tr></table></figure>
<h3 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">关键字：LIKE</div><div class="line">通配符：</div><div class="line">_ 任意一个字符</div><div class="line">% 任意0-n个字符</div><div class="line"></div><div class="line">#查询姓名是五个字符的学生记录</div><div class="line">SELECT * FROM stu WHERE same LIKE &apos;_____&apos;;</div><div class="line">#查询学生姓名五个字符，且最后一个为i的记录</div><div class="line">SELECT * FROM stu WHERE same LIKE &apos;____i&apos;;</div><div class="line">#查询姓名z开头的记录</div><div class="line">SELECT * FROM stu WHERE same LIKE &apos;z%&apos;;</div><div class="line">#查询姓名第2个字符是i的记录</div><div class="line">SELECT * FROM stu WHERE same LIKE &apos;_i%&apos;;</div><div class="line">#查询姓名包含a记录</div><div class="line">SELECT * FROM stu WHERE same LIKE &apos;%a%&apos;;</div></pre></td></tr></table></figure>
<h3 id="字段控制查询"><a href="#字段控制查询" class="headerlink" title="字段控制查询"></a>字段控制查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">#去除重复数据</div><div class="line">SELECT DISTINCT deptno FROM emp;</div><div class="line"></div><div class="line">#过滤空值</div><div class="line">#查询员工的月薪和佣金之和</div><div class="line">#比如说sal或者comm有一个为null，则加起来就是null</div><div class="line">SELECT sal+comm FROM emp;</div><div class="line">#正确写法,其中0是替换null的值</div><div class="line">SELECT sal+IFNULL(comm,0) FROM emp;</div><div class="line"></div><div class="line">#给列起别名,查询出来结果，列名是sala+ifnull...,不雅观</div><div class="line">#关键字as，给列起别名</div><div class="line">SELECT sal+IFNULL(comm,0) AS total FROM emp;</div><div class="line">#给以给多列起别名,第二个as可省略，默认就是as</div><div class="line">SELECT same AS 姓名,gender 性别 FROM emp;</div></pre></td></tr></table></figure>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><hr>
<pre><code>#学生信息，升序排列
SELECT * FROM stu ORDER BY age ASC;
#不写asc默认就是,和上面等效
SELECT * FROM stu ORDER BY age;

#降序排列
SELECT * FROM stu ORDER BY age DESC;

#查询所有，按月薪降序排列，如果相同，按序号升序排列
SELECT * FROM emp ORDER BY sal DESC,empno ASC;
</code></pre><hr>
<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><hr>
<pre><code>操作纵向(列) sum avg max min count
count():统计指定列不为null的记录行数
max()：计算指定列的最大值，如果列是字符串类型，那么使用字符串排序运算
min(): 计算指定列的最小值，如果列是字符串类型，那么使用字符串排序运算
sum(): 计算指定列的值和，如果指定列类型不是数值类型，那么计算结果为0
avg(): 计算指定列的平均值，如果指定列类型不是数值类型，那么计算结果为0
补充：只要是聚合函数，都会自东过滤空，上面五个都是，所以使用sum等的时候，不需要ifnull等等操作

#查询emp表中的记录数,如果是*几乎没意义，因为只要有一列不全是空，就会算上数值
SELECT COUNT(*) AS cnt FROM emp;
#查询emp表中有佣金的人数,别名as可省略
SELECT COUNT(comm) cnt FROM emp;
#查询emp表中月薪大于2500的人数
SELECT COUNT(*) cnt FROM emp WHERE sal&gt;2500;
#查询有佣金的人数，有领导的人数
SELECT COUNT(sal),COUNT(mgr) FROM emp;
</code></pre><hr>
<h3 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h3><hr>
<pre><code>Having：分组后的条件，可以使用聚合函数
WHERE: 原表的条件，不可以使用聚合函数
完整流程： select -&gt;  from  -&gt;  where  -&gt;   group by  -&gt;  having -&gt;  order by

#查询男性和女性分别的数量
SELECT COUNT(*) FROM stu WHERE gender IS NOT NULL GROUP BY gender;
#查询各部门的人数
SELECT deptno,COUNT(*) FROM emp GROUP BY deptno;
#补充：凡是和聚合函数同时出现的列名，一定要写在group by之后，也就是说此时select之后跟deptno可以，但是其他不行，对不上

#查询每个部门的部门编号和每个部门的工资和
SELECT deptno,MAX(sal) FROM emp GROUP BY deptno;
#查询每个部门的部门编号和每个部门的人数
SELECT deptno,COUNT(*) FROM emp GROUP BY deptno;
#查询每个部门的部门编号，以及每个部门工资大于1500的人数
SELECT deptno ,COUNT(*) FROM emp WHERE sal&gt;1500 GROUP BY deptno;
#查询工资总和大于9000的部门编号以及工资和，此处是分组后的筛选
SELECT deptno,SUM(sal) FROM emp  GROUP BY deptno HAVING SUM(sal)&gt;9000;
#查询工资大于1500的，工资总和大于6000的部门编号以及工资和,并降序排列
SELECT deptno,SUM(sal) FROM emp WHERE sal&gt;1500 GROUP BY deptno HAVING SUM(sal)&gt;6000 ORDER BY SUM(sal) DESC;
</code></pre><hr>
<h3 id="mysql方言"><a href="#mysql方言" class="headerlink" title="mysql方言"></a>mysql方言</h3><hr>
<pre><code>LIMIT 用来限定查询结果的起始行，以及总行数，常用于分页技术
SELECT * FROM emp LIMIT 0,4;  0代表从第几行开始查询，4代表查几行
补充：limit排序在整体最后，也就是说还在order by之后
</code></pre><hr>
<h1 id="数据的完整性"><a href="#数据的完整性" class="headerlink" title="数据的完整性"></a>数据的完整性</h1><blockquote>
<p>保证用户输入的数据保存咋数据库中是正确的，方法是在创建表时给表添加约束</p>
</blockquote>
<h2 id="实体完整性"><a href="#实体完整性" class="headerlink" title="实体完整性"></a>实体完整性</h2><hr>
<pre><code>实体：表中的一行(一条记录)代表一个实体
实体完整性的作用：标识每一行数据不重复
约束类型：主键约束(primary key)  唯一约束(unipue)  自增长约束(auto——increment)
</code></pre><hr>
<h3 id="主键约束"><a href="#主键约束" class="headerlink" title="主键约束"></a>主键约束</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">每个表中要有一个主键，数据唯一，且不能为null</div><div class="line">#第一种添加方式</div><div class="line">CREATE TABLE student(</div><div class="line">id INT PRIMARY KEY,</div><div class="line">NAME VARCHAR(50)</div><div class="line">);</div><div class="line">#第二种添加方式，优势在于可以创建联合主键</div><div class="line">CREATE TABLE student(</div><div class="line">id INT,</div><div class="line">stuid INT,</div><div class="line">NAME VARCHAR(50),</div><div class="line">PRIMARY KEY(id,stuid)</div><div class="line">);</div><div class="line">#第三种添加方式</div><div class="line">CREATE TABLE student(</div><div class="line">id INT,</div><div class="line">NAME VARCHAR(50)</div><div class="line">);</div><div class="line">ALTER TABLE student ADD PRIMARY KEY(id);</div><div class="line">ALTER TABLE student ADD CONSTRAINT pk_stu_id PRIMARY KEY(id);</div></pre></td></tr></table></figure>
<h3 id="唯一约束"><a href="#唯一约束" class="headerlink" title="唯一约束"></a>唯一约束</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">特点：数据不重复</div><div class="line">CREATE TABLE student(</div><div class="line">id INT PRIMARY KEY,</div><div class="line">NAME VARCHAR(50) UNIQUE</div><div class="line">);</div></pre></td></tr></table></figure>
<h3 id="自增长列"><a href="#自增长列" class="headerlink" title="自增长列"></a>自增长列</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">sqlserver数据库 (identity)  oracle数据库( sequence)</div><div class="line">CREATE TABLE student(</div><div class="line">id INT PRIMARY KEY AUTO_INCREMENT,</div><div class="line">NAME VARCHAR(50) UNIQUE</div><div class="line">);</div><div class="line">INSERT INTO student(NAME) VALUES(&apos;tom&apos;);</div></pre></td></tr></table></figure>
<h2 id="域完整性"><a href="#域完整性" class="headerlink" title="域完整性"></a>域完整性</h2><blockquote>
<p>完整性的作用：限制此单元格的数据正确性，不对照此列的其他单元格比较<br>域代表当前单元格</p>
</blockquote>
<h3 id="非空约束"><a href="#非空约束" class="headerlink" title="非空约束"></a>非空约束</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE student(</div><div class="line">id INT PRIMARY KEY,</div><div class="line">NAME VARCHAR(50) NOT NULL</div><div class="line">);</div></pre></td></tr></table></figure>
<h3 id="默认值约束"><a href="#默认值约束" class="headerlink" title="默认值约束"></a>默认值约束</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE student(</div><div class="line">id INT PRIMARY KEY,</div><div class="line">NAME VARCHAR(50) NOT NULL,</div><div class="line">sex VARCHAR(10) DEFAULT&apos;男&apos;</div><div class="line">);</div><div class="line">INSERT INTO student VALUES(1,&apos;tom&apos;,&apos;女&apos;);</div><div class="line">INSERT INTO student VALUES(2,&apos;tom&apos;,DEFAULT);</div></pre></td></tr></table></figure>
<h3 id="引用完整性"><a href="#引用完整性" class="headerlink" title="引用完整性"></a>引用完整性</h3><blockquote>
<p>外键约束：foreign key<br>外键的数据类型一定要与主键是一致的。<br>注意：外键约束要添加的表是子表，例如说分数表和学生表，先有学生再有分数，所以分数表是子表<br>另外，必须学生表有主键，然后分数表才能通过外键引用</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE student(</div><div class="line">sid INT PRIMARY KEY,</div><div class="line">NAME VARCHAR(50) NOT NULL,</div><div class="line">sex VARCHAR(10) DEFAULT &apos;男&apos;</div><div class="line">);</div><div class="line"></div><div class="line">CREATE TABLE score(</div><div class="line">	id INT,</div><div class="line">	score INT</div><div class="line">);</div><div class="line">ALTER TABLE score ADD CONSTRAINT fk_stu_score FOREIGN KEY(id) REFERENCES student(sid); </div><div class="line">也可以直接创建外键</div><div class="line">create table score(</div><div class="line">	id int,</div><div class="line">	score int,</div><div class="line">	CONSTRAINT fk_score_sid foreign key (sid) references student(id)</div><div class="line">);</div><div class="line"></div><div class="line">注意：必须先创建主键，不然外键会创建失败。</div></pre></td></tr></table></figure>
<h3 id="一对一，一对多，多对多说明："><a href="#一对一，一对多，多对多说明：" class="headerlink" title="一对一，一对多，多对多说明："></a>一对一，一对多，多对多说明：</h3><p><img src="/img/1.png" alt="Alt text"></p>
<hr>
<pre><code>一对多：例如一个学生，可以对应学生表中同一个外键对应的多科目分数
一对一：一个人一个身份证，两个表对应都是主键(不能重复)，此时也就不区分外键主键了，两个表都可以当作主表或者子表。
但是一旦添加了外键，则主表子表就有了区分，添加外键的那个表就是子表。

多对多：一个老师多个学生，一个学生多个老师，一般多对多，需要一个中间表，分别对应两个表中的键
一般中间表是子表，而其他两个表都是主表，同理ALTER TABLE score ADD CONSTRAINT fk_stu_score FOREIGN KEY(id) REFERENCES student(sid); 
也需要两次分别针对不同的表，此时外键对应分别是中间表的不同id，后面REFERENCES分别对应两个主表的不同主键。
</code></pre><hr>
<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><hr>
<pre><code>注意：查询和上面完整性不一样，完整性的约束是为了防止增删改的操作影像数据的完整性
但是查询主外键只是一个参照关系，只要有参照关系，其实没有主外键也不会影响查询的结果
下面的参照主外键说明，其实只是一个参照关系，和有没有真的主外键没有关系。
所以，增删改和查询要分开理解。
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">合并结果集： UNION UNION ALL</div><div class="line">连接查询：</div><div class="line">	内连接  [INSERT] JOIN ON</div><div class="line">	外连接  OUTER JOIN ON</div><div class="line">		左外连接  LEFT [OUTER]JOIN</div><div class="line">		右外连接  RIGHT [OUTER] JOIN</div><div class="line">		全外连接  (mysql不支持) FULL JOIN</div><div class="line">	自然连接 NATURAL JOIN</div><div class="line">	子查询</div></pre></td></tr></table></figure>
<h3 id="合并结果集"><a href="#合并结果集" class="headerlink" title="合并结果集"></a>合并结果集</h3><blockquote>
<p>注意：被合并的结果集，列数和列类型必须相同</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">案例：</div><div class="line">CREATE TABLE A(</div><div class="line">	NAME VARCHAR(10),</div><div class="line">	score INT</div><div class="line">);</div><div class="line"></div><div class="line">CREATE TABLE B(</div><div class="line">	NAME VARCHAR(10),</div><div class="line">	score INT</div><div class="line">);</div><div class="line"></div><div class="line">INSERT INTO A VALUES(&apos;a&apos;,10),(&apos;b&apos;,20),(&apos;c&apos;,30);//批量插入</div><div class="line">INSERT INTO B VALUES(&apos;a&apos;,10),(&apos;b&apos;,20),(&apos;d&apos;,40);</div><div class="line"></div><div class="line"></div><div class="line">#合并结果集</div><div class="line">SELECT * FROM A UNION SELECT * FROM B;#这种是去除重复数据显示总共多少种数据</div><div class="line">SELECT * FROM A UNION ALL SELECT * FROM B;#两个表数据都显示，即使重复的</div><div class="line"></div><div class="line">补充：笛卡儿积（注意补充图片）</div><div class="line">SELECT * from student,score</div></pre></td></tr></table></figure>
<h3 id="连接查询-十分重要"><a href="#连接查询-十分重要" class="headerlink" title="连接查询(十分重要)"></a>连接查询(十分重要)</h3><p><img src="/img/2.png" alt="笛卡儿积"></p>
<blockquote>
<p>笛卡儿积使用场景很少，几乎算是一个错误写法。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">下面是连接查询</div><div class="line">SELECT * FROM student,score WHERE student.stuid=score.stuid;</div><div class="line">其他写法：</div><div class="line">SELECT s.stuid ,s.stuname,c.score FROM student s,score c where s.stuid=c.stuid;</div><div class="line">解析：不使用*是为了避免出现例如stuid出现两列的情况(两张表分别一列，其实是先通的，没必要)，后面是使用了别名</div><div class="line"></div><div class="line">作用：使用(主外键关系)为条件去除无用的信息，其实本质上是过滤笛卡儿积查询生成的表。</div></pre></td></tr></table></figure>
<h4 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ON:只能做主外键关联，相当于上面的WHERE</div><div class="line">INSER可以省略，mysql默认就是内链接</div><div class="line">SELECT * FROM student s JOIN socre c ON s.stuid=c.stuid; 效果等同于上面的where语句</div><div class="line">扩展：</div><div class="line">SELECT * FROM student s JOIN socre c ON s.stuid=c.stuid WHERE score&gt;70;</div></pre></td></tr></table></figure>
<h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">特点：查询出的结果存在不满足条件的可能。</div><div class="line">例如下面会查询出，没参加考试，成绩为null的结果，结果就不满足 s.stuid=c.stuid</div><div class="line">SELECT s.stuid,s.stuname,c.score FROM  student s LEFT JOIN score c ON s.stuid=c.stuid;</div><div class="line">此时就是参照student表，会出现null值，如果把student s和score c对换</div><div class="line">就是参照score表了，就和内链接查询结果相同了，只有五条数据，没有最后分数为null的那一条学生数据</div><div class="line"></div><div class="line">右外连接查询：</div><div class="line">select * from student s right join score c on s.stuid=c.stuid;</div><div class="line">此时右外连接，参照就是score表</div><div class="line"></div><div class="line">如果是多表查询，则使用where那种的话，前面查询多张表，后面where不同条件根据and或者or等连接即可</div><div class="line">如果使用on</div><div class="line">select * from student s</div><div class="line">join score c on s.stuid=c.stuid</div><div class="line">join course cc on c.courseid==cc.courseid</div><div class="line">就是在查询生成表情况下，在加上新表以及条件即可。</div></pre></td></tr></table></figure>
<h3 id="自然连接（natural）"><a href="#自然连接（natural）" class="headerlink" title="自然连接（natural）"></a>自然连接（natural）</h3><blockquote>
<p>相当于内链接，无需条件（默认以两张连接的表中名称和类型完全一直的列作为条件），自动匹配表间相同条件。<br>select *from student natural join score;</p>
</blockquote>
<h3 id="子查询-十分重要"><a href="#子查询-十分重要" class="headerlink" title="子查询(十分重要)"></a>子查询(十分重要)</h3><blockquote>
<p>一个select语言包含另一个select语句就是子查询</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">子查询出现的位置：</div><div class="line">where后：作为条件的一部分，可以使用如下关键字 any ALL</div><div class="line">#查询与soctt同一个部门的员工</div><div class="line">SELECT * FROM emp WHERE deptno=(SELECT deptno FROM emp WHERE ename=&apos;SCOTT&apos;);</div><div class="line">解析：后面查询出部门标号，然后作为条件</div><div class="line">#查询工资高于jones的员工</div><div class="line">SELECT * FROM emp WHERE sal &gt;(SELECT sal FROM emp WHERE ename=&apos;jones&apos;);</div><div class="line">单行多列查询</div><div class="line">#查询工作和工资与MARTIN完全相同的员工信息</div><div class="line">SELECT * FROM emp WHERE (job,sal)IN (SELECT job,sal FROM emp WHERE ename=&apos;MARTIN&apos;);</div><div class="line">#查询2个以上直接下属的员工信息</div><div class="line">SELECT * FROM emp WHERE empno IN (SELECT mgr  FROM emp GROUP BY mgr HAVING COUNT(mgr)&gt;=2);</div><div class="line">#查询员工编号为7788的员工的名称、员工工资、部门名称、部门地址</div><div class="line">SELECT e.ename,e.sal,d.dname,d.loc FROM emp e,dept d WHERE e.deptno=d.deptno AND empno=7788;</div><div class="line"></div><div class="line">from后，作为表</div><div class="line">#查询员工编号为7788的员工的名称、员工工资、部门名称、部门地址</div><div class="line">SELECT e.ename,e.sal,d.dname,d.loc FROM emp e,(SELECT * FROM dept)d WHERE e.deptno=d.deptno AND empno=7788;</div><div class="line">其实此时这样写，是几乎没什么意义的，还不如上面的写法。</div></pre></td></tr></table></figure>
<h3 id="自连接查询"><a href="#自连接查询" class="headerlink" title="自连接查询"></a>自连接查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">自己连接自己，起别名</div><div class="line">#求7369员工编号、姓名、经理编号、经理姓名</div><div class="line">SELECT * from emp e1,emp e2 where e1.mgr=e2.empno and e1.empno=7369;</div><div class="line"></div><div class="line">练习：</div><div class="line">#求各部门薪水最高的员工的所有信息</div><div class="line">SELECT * FROM emp WHERE sal IN(SELECT MAX(sal) FROM emp GROUP BY deptno);</div><div class="line">上面这种写法，是按照工资匹配，如果某个部门最高工资在其他部门不是最高，但是刚好也有，就会出现查出来错误数据的结果。</div><div class="line"></div><div class="line">正确写法：</div><div class="line">SELECT * FROM emp e1,(SELECT deptno ,MAX(sal) maxSal FROM emp GROUP BY deptno) e2</div><div class="line">WHERE e1.sal=e2.maxSal AND e1.deptno=e2.deptno;</div><div class="line">按照薪水和部门都匹配一次，步骤是先把两个表组合，然后添加条件</div></pre></td></tr></table></figure>
<h1 id="MySQL中的函数"><a href="#MySQL中的函数" class="headerlink" title="MySQL中的函数"></a>MySQL中的函数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">SELECT ADDTIME(&apos;15:51:00&apos;,&apos;1:00:01&apos;);#16:51:01</div><div class="line">CURRENT_DATE() #当前日期</div><div class="line">CURRENT_TIME() #当前时间</div><div class="line">CURRENT_TIMESTAMP() #当前时间戳</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div></pre></td><td class="code"><pre><div class="line">一、数学函数</div><div class="line">　　数学函数主要用于处理数字，包括整型、浮点数等。</div><div class="line"></div><div class="line">函数	作用</div><div class="line">ABS(x)	</div><div class="line">返回x的绝对值　　</div><div class="line"></div><div class="line">SELECT ABS(-1) -- 返回1</div><div class="line"></div><div class="line">CEIL(x),CEILING(x)	</div><div class="line">返回大于或等于x的最小整数　　</div><div class="line"></div><div class="line">SELECT CEIL(1.5) -- 返回2</div><div class="line"></div><div class="line">FLOOR(x)	</div><div class="line">返回小于或等于x的最大整数　　</div><div class="line"></div><div class="line">SELECT FLOOR(1.5) -- 返回1</div><div class="line"></div><div class="line">RAND()	</div><div class="line">返回0-&gt;1的随机数　　</div><div class="line"></div><div class="line">SELECT RAND() --0.93099315644334</div><div class="line"></div><div class="line">RAND(x)	</div><div class="line">返回0-&gt;1的随机数，x值相同时返回的随机数相同　　</div><div class="line"></div><div class="line">SELECT RAND(2) --1.5865798029924</div><div class="line"></div><div class="line">SIGN(x)	</div><div class="line">返回x的符号，x是负数、0、正数分别返回-1、0和1　　</div><div class="line"></div><div class="line">SELECT SIGN(-10) -- (-1)</div><div class="line"></div><div class="line">PI()	</div><div class="line">返回圆周率(3.141593）　　</div><div class="line"></div><div class="line">SELECT PI() --3.141593</div><div class="line"></div><div class="line">TRUNCATE(x,y)	</div><div class="line">返回数值x保留到小数点后y位的值（与ROUND最大的区别是不会进行四舍五入）　　</div><div class="line"></div><div class="line">SELECT TRUNCATE(1.23456,3) -- 1.234</div><div class="line"></div><div class="line">ROUND(x)	返回离x最近的整数　　SELECT ROUND(1.23456) --1</div><div class="line">ROUND(x,y)	</div><div class="line">保留x小数点后y位的值，但截断时要进行四舍五入　　</div><div class="line"></div><div class="line">SELECT ROUND(1.23456,3) -- 1.235</div><div class="line"></div><div class="line">POW(x,y).POWER(x,y)	</div><div class="line">返回x的y次方　　</div><div class="line"></div><div class="line">SELECT POW(2,3) -- 8</div><div class="line"></div><div class="line">SQRT(x)	</div><div class="line">返回x的平方根　　</div><div class="line"></div><div class="line">SELECT SQRT(25) -- 5</div><div class="line"></div><div class="line">EXP(x)	</div><div class="line">返回e的x次方　　</div><div class="line"></div><div class="line">SELECT EXP(3) -- 20.085536923188</div><div class="line"></div><div class="line">MOD(x,y)	</div><div class="line">返回x除以y以后的余数　　</div><div class="line"></div><div class="line">SELECT MOD(5,2) -- 1</div><div class="line"></div><div class="line">LOG(x)	</div><div class="line">返回自然对数(以e为底的对数)　　</div><div class="line"></div><div class="line">SELECT LOG(20.085536923188) -- 3</div><div class="line"></div><div class="line">LOG10(x)	</div><div class="line">返回以10为底的对数　　</div><div class="line"></div><div class="line">SELECT LOG10(100) -- 2</div><div class="line"></div><div class="line">RADIANS(x)	</div><div class="line">将角度转换为弧度　　</div><div class="line"></div><div class="line">SELECT RADIANS(180) -- 3.1415926535898</div><div class="line"></div><div class="line">DEGREES(x)	</div><div class="line">将弧度转换为角度　　</div><div class="line"></div><div class="line">SELECT DEGREES(3.1415926535898) -- 180</div><div class="line"></div><div class="line">SIN(x)	</div><div class="line">求正弦值(参数是弧度)　　</div><div class="line"></div><div class="line">SELECT SIN(RADIANS(30)) -- 0.5</div><div class="line"></div><div class="line">ASIN(x)	求反正弦值(参数是弧度)</div><div class="line">COS(x)	求余弦值(参数是弧度)</div><div class="line">ACOS(x)	求反余弦值(参数是弧度)</div><div class="line">TAN(x)	求正切值(参数是弧度)</div><div class="line">ATAN(x) ATAN2(x)	求反正切值(参数是弧度)</div><div class="line">COT(x)	求余切值(参数是弧度)</div><div class="line"> </div><div class="line"></div><div class="line"> </div><div class="line"></div><div class="line">二、字符串函数</div><div class="line">　　字符串函数是MySQL中最常用的一类函数，字符串函数主要用于处理表中的字符串。</div><div class="line"></div><div class="line">函数	说明</div><div class="line">CHAR_LENGTH(s)	</div><div class="line">返回字符串s的字符数</div><div class="line"></div><div class="line">SELECT CHAR_LENGTH(&apos;你好123&apos;) -- 5</div><div class="line"></div><div class="line">LENGTH(s)	</div><div class="line">返回字符串s的长度</div><div class="line"></div><div class="line">SELECT LENGTH(&apos;你好123&apos;) -- 9</div><div class="line"></div><div class="line">CONCAT(s1,s2,...)	</div><div class="line">将字符串s1,s2等多个字符串合并为一个字符串</div><div class="line"></div><div class="line">SELECT CONCAT(&apos;12&apos;,&apos;34&apos;) -- 1234</div><div class="line"></div><div class="line">CONCAT_WS(x,s1,s2,...)	</div><div class="line">同CONCAT(s1,s2,...)函数，但是每个字符串直接要加上x</div><div class="line"></div><div class="line">SELECT CONCAT_WS(&apos;@&apos;,&apos;12&apos;,&apos;34&apos;) -- 12@34</div><div class="line"></div><div class="line">INSERT(s1,x,len,s2)	</div><div class="line">将字符串s2替换s1的x位置开始长度为len的字符串</div><div class="line"></div><div class="line">SELECT INSERT(&apos;12345&apos;,1,3,&apos;abc&apos;) -- abc45</div><div class="line"></div><div class="line">UPPER(s),UCAASE(S)	</div><div class="line">将字符串s的所有字母变成大写字母</div><div class="line"></div><div class="line">SELECT UPPER(&apos;abc&apos;) -- ABC</div><div class="line"></div><div class="line">LOWER(s),LCASE(s)	</div><div class="line">将字符串s的所有字母变成小写字母</div><div class="line"></div><div class="line">SELECT LOWER(&apos;ABC&apos;) -- abc</div><div class="line"></div><div class="line">LEFT(s,n)	</div><div class="line">返回字符串s的前n个字符</div><div class="line"></div><div class="line">SELECT LEFT(&apos;abcde&apos;,2) -- ab</div><div class="line"></div><div class="line">RIGHT(s,n)	</div><div class="line">返回字符串s的后n个字符</div><div class="line"></div><div class="line">SELECT RIGHT(&apos;abcde&apos;,2) -- de</div><div class="line"></div><div class="line">LPAD(s1,len,s2)	</div><div class="line">字符串s2来填充s1的开始处，使字符串长度达到len</div><div class="line"></div><div class="line">SELECT LPAD(&apos;abc&apos;,5,&apos;xx&apos;) -- xxabc</div><div class="line"></div><div class="line">RPAD(s1,len,s2)	</div><div class="line">字符串s2来填充s1的结尾处，使字符串的长度达到len</div><div class="line"></div><div class="line">SELECT RPAD(&apos;abc&apos;,5,&apos;xx&apos;) -- abcxx</div><div class="line"></div><div class="line">LTRIM(s)	去掉字符串s开始处的空格</div><div class="line">RTRIM(s)	去掉字符串s结尾处的空格</div><div class="line">TRIM(s)	去掉字符串s开始和结尾处的空格</div><div class="line">TRIM(s1 FROM s)	</div><div class="line">去掉字符串s中开始处和结尾处的字符串s1</div><div class="line"></div><div class="line">SELECT TRIM(&apos;@&apos; FROM &apos;@@abc@@&apos;) -- abc</div><div class="line"></div><div class="line">REPEAT(s,n)	</div><div class="line">将字符串s重复n次</div><div class="line"></div><div class="line">SELECT REPEAT(&apos;ab&apos;,3) -- ababab</div><div class="line"></div><div class="line">SPACE(n)	返回n个空格</div><div class="line">REPLACE(s,s1,s2)	</div><div class="line">将字符串s2替代字符串s中的字符串s1</div><div class="line"></div><div class="line">SELECT REPLACE(&apos;abc&apos;,&apos;a&apos;,&apos;x&apos;) --xbc</div><div class="line"></div><div class="line">STRCMP(s1,s2)	比较字符串s1和s2</div><div class="line">SUBSTRING(s,n,len)	获取从字符串s中的第n个位置开始长度为len的字符串</div><div class="line">MID(s,n,len)	同SUBSTRING(s,n,len)</div><div class="line">LOCATE(s1,s),POSITION(s1 IN s)	</div><div class="line">从字符串s中获取s1的开始位置</div><div class="line"></div><div class="line">SELECT LOCATE(&apos;b&apos;, &apos;abc&apos;) -- 2</div><div class="line"></div><div class="line">INSTR(s,s1)	</div><div class="line">从字符串s中获取s1的开始位置</div><div class="line"></div><div class="line">SELECT INSTR(&apos;abc&apos;,&apos;b&apos;) -- 2</div><div class="line"></div><div class="line">REVERSE(s)	</div><div class="line">将字符串s的顺序反过来</div><div class="line"></div><div class="line">SELECT REVERSE(&apos;abc&apos;) -- cba</div><div class="line"></div><div class="line">ELT(n,s1,s2,...)	</div><div class="line">返回第n个字符串</div><div class="line"></div><div class="line">SELECT ELT(2,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;) -- b</div><div class="line"></div><div class="line">EXPORT_SET(x,s1,s2)	</div><div class="line">返回一个字符串，在这里对于在“bits”中设定每一位，你得到一个“on”字符串，并且对于每个复位(reset)的位，你得到一个 “off”字符串。每个字符串用“separator”分隔(缺省“,”)，并且只有“bits”的“number_of_bits” (缺省64)位被使用。</div><div class="line"></div><div class="line">SELECT EXPORT_SET(5,&apos;Y&apos;,&apos;N&apos;,&apos;,&apos;,4) -- Y,N,Y,N</div><div class="line"></div><div class="line">FIELD(s,s1,s2...)	</div><div class="line">返回第一个与字符串s匹配的字符串位置</div><div class="line"></div><div class="line">SELECT FIELD(&apos;c&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;) -- 3</div><div class="line"></div><div class="line">FIND_IN_SET(s1,s2)	返回在字符串s2中与s1匹配的字符串的位置</div><div class="line">MAKE_SET(x,s1,s2)	返回一个集合 (包含由“,”</div><div class="line">字符分隔的子串组成的一个 字符串)，由相应的位在bits集合中的的字符串组成。str1对应于位0，str2对 应位1，等等。</div><div class="line"></div><div class="line">SELECT MAKE_SET(1|4,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;); -- a,c</div><div class="line"></div><div class="line">SUBSTRING_INDEX	</div><div class="line">返回从字符串str的第count个出现的分隔符delim之后的子串。</div><div class="line"></div><div class="line">如果count是正数，返回第count个字符左边的字符串。</div><div class="line"></div><div class="line">如果count是负数，返回第(count的绝对值(从右边数))个字符右边的字符串。</div><div class="line"></div><div class="line">SELECT SUBSTRING_INDEX(&apos;a*b&apos;,&apos;*&apos;,1) -- a</div><div class="line">SELECT SUBSTRING_INDEX(&apos;a*b&apos;,&apos;*&apos;,-1)	-- b</div><div class="line">SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(&apos;a*b*c*d*e&apos;,&apos;*&apos;,3),&apos;*&apos;,-1)	-- c</div><div class="line"></div><div class="line">LOAD_FILE(file_name)	</div><div class="line">读入文件并且作为一个字符串返回文件内容。文件必须在服务器上，你必须指定到文件的完整路径名，而且你必须有file权 限。文件必须所有内容都是可读的并且小于max_allowed_packet。 如果文件不存在或由于上面原因之一不能被读出，函数返回NULL。</div><div class="line"></div><div class="line"> </div><div class="line"></div><div class="line">三、日期时间函数</div><div class="line">　　MySQL的日期和时间函数主要用于处理日期时间。</div><div class="line"></div><div class="line">函数	说明</div><div class="line">CURDATE(),CURRENT_DATE()	</div><div class="line">返回当前日期</div><div class="line"></div><div class="line">SELECT CURDATE()</div><div class="line">-&gt;2014-12-17</div><div class="line"></div><div class="line">CURTIME(),CURRENT_TIME	</div><div class="line">返回当前时间</div><div class="line"></div><div class="line">SELECT CURTIME()</div><div class="line">-&gt;15:59:02</div><div class="line"></div><div class="line">NOW(),CURRENT_TIMESTAMP(),LOCALTIME(),</div><div class="line"></div><div class="line">SYSDATE(),LOCALTIMESTAMP()</div><div class="line"></div><div class="line">返回当前日期和时间</div><div class="line"></div><div class="line">SELECT NOW()</div><div class="line">-&gt;2014-12-17 15:59:02</div><div class="line"></div><div class="line">UNIX_TIMESTAMP()	</div><div class="line">以UNIX时间戳的形式返回当前时间</div><div class="line"></div><div class="line">SELECT UNIX_TIMESTAMP()</div><div class="line">-&gt;1418803177</div><div class="line"></div><div class="line">UNIX_TIMESTAMP(d)	</div><div class="line">将时间d以UNIX时间戳的形式返回</div><div class="line"></div><div class="line">SELECT UNIX_TIMESTAMP(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;1320981071</div><div class="line"></div><div class="line">FROM_UNIXTIME(d)	</div><div class="line">将UNIX时间戳的时间转换为普通格式的时间</div><div class="line"></div><div class="line">SELECT FROM_UNIXTIME(1320981071)</div><div class="line">-&gt;2011-11-11 11:11:11</div><div class="line"></div><div class="line">UTC_DATE()	</div><div class="line">返回UTC日期</div><div class="line"></div><div class="line">SELECT UTC_DATE()</div><div class="line">-&gt;2014-12-17</div><div class="line"></div><div class="line">UTC_TIME()	</div><div class="line">返回UTC时间</div><div class="line"></div><div class="line">SELECT UTC_TIME()</div><div class="line">-&gt;08:01:45	(慢了8小时)</div><div class="line"></div><div class="line">MONTH(d)	</div><div class="line">返回日期d中的月份值，1-&gt;12</div><div class="line"></div><div class="line">SELECT MONTH(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;11</div><div class="line"></div><div class="line">MONTHNAME(d)	</div><div class="line">返回日期当中的月份名称，如Janyary</div><div class="line"></div><div class="line">SELECT MONTHNAME(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;November</div><div class="line"></div><div class="line">DAYNAME(d)	</div><div class="line">返回日期d是星期几，如Monday,Tuesday</div><div class="line"></div><div class="line">SELECT DAYNAME(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;Friday</div><div class="line"></div><div class="line">DAYOFWEEK(d)	</div><div class="line">日期d今天是星期几，1星期日，2星期一</div><div class="line"></div><div class="line">SELECT DAYOFWEEK(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;6</div><div class="line"></div><div class="line">WEEKDAY(d)	</div><div class="line">日期d今天是星期几，</div><div class="line"></div><div class="line"> 0表示星期一，1表示星期二</div><div class="line"></div><div class="line">WEEK(d)，WEEKOFYEAR(d)	</div><div class="line">计算日期d是本年的第几个星期，范围是0-&gt;53</div><div class="line"></div><div class="line">SELECT WEEK(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;45</div><div class="line"></div><div class="line">DAYOFYEAR(d)	</div><div class="line">计算日期d是本年的第几天</div><div class="line"></div><div class="line">SELECT DAYOFYEAR(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;315</div><div class="line"></div><div class="line">DAYOFMONTH(d)	</div><div class="line">计算日期d是本月的第几天</div><div class="line"></div><div class="line">SELECT DAYOFMONTH(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;11</div><div class="line"></div><div class="line">QUARTER(d)	</div><div class="line">返回日期d是第几季节，返回1-&gt;4</div><div class="line"></div><div class="line">SELECT QUARTER(&apos;2011-11-11 11:11:11&apos;)</div><div class="line">-&gt;4</div><div class="line"></div><div class="line">HOUR(t)	</div><div class="line">返回t中的小时值</div><div class="line"></div><div class="line">SELECT HOUR(&apos;1:2:3&apos;)</div><div class="line">-&gt;1</div><div class="line"></div><div class="line">MINUTE(t)	</div><div class="line">返回t中的分钟值</div><div class="line"></div><div class="line">SELECT MINUTE(&apos;1:2:3&apos;)</div><div class="line">-&gt;2</div><div class="line"></div><div class="line">SECOND(t)	</div><div class="line">返回t中的秒钟值</div><div class="line"></div><div class="line">SELECT SECOND(&apos;1:2:3&apos;)</div><div class="line">-&gt;3</div><div class="line"></div><div class="line">EXTRACT(type FROM d)	</div><div class="line">从日期d中获取指定的值，type指定返回的值</div><div class="line"></div><div class="line">SELECT EXTRACT(MINUTE FROM &apos;2011-11-11 11:11:11&apos;) </div><div class="line">-&gt;11</div><div class="line"></div><div class="line">type可取值为：</div><div class="line"></div><div class="line">MICROSECOND</div><div class="line">SECOND</div><div class="line">MINUTE</div><div class="line">HOUR</div><div class="line">DAY</div><div class="line">WEEK</div><div class="line">MONTH</div><div class="line">QUARTER</div><div class="line">YEAR</div><div class="line">SECOND_MICROSECOND</div><div class="line">MINUTE_MICROSECOND</div><div class="line">MINUTE_SECOND</div><div class="line">HOUR_MICROSECOND</div><div class="line">HOUR_SECOND</div><div class="line">HOUR_MINUTE</div><div class="line">DAY_MICROSECOND</div><div class="line">DAY_SECOND</div><div class="line">DAY_MINUTE</div><div class="line">DAY_HOUR</div><div class="line">YEAR_MONTH</div><div class="line"></div><div class="line">TIME_TO_SEC(t)	</div><div class="line">将时间t转换为秒</div><div class="line"></div><div class="line">SELECT TIME_TO_SEC(&apos;1:12:00&apos;)</div><div class="line">-&gt;4320</div><div class="line"></div><div class="line">SEC_TO_TIME(s)	</div><div class="line">将以秒为单位的时间s转换为时分秒的格式</div><div class="line"></div><div class="line">SELECT SEC_TO_TIME(4320)</div><div class="line">-&gt;01:12:00</div><div class="line"></div><div class="line">TO_DAYS(d)	</div><div class="line">计算日期d距离0000年1月1日的天数</div><div class="line"></div><div class="line">SELECT TO_DAYS(&apos;0001-01-01 01:01:01&apos;)</div><div class="line">-&gt;366</div><div class="line"></div><div class="line">FROM_DAYS(n)	</div><div class="line">计算从0000年1月1日开始n天后的日期</div><div class="line"></div><div class="line">SELECT FROM_DAYS(1111)</div><div class="line">-&gt;0003-01-16</div><div class="line"></div><div class="line">DATEDIFF(d1,d2)	</div><div class="line">计算日期d1-&gt;d2之间相隔的天数</div><div class="line"></div><div class="line">SELECT DATEDIFF(&apos;2001-01-01&apos;,&apos;2001-02-02&apos;)</div><div class="line">-&gt;-32</div><div class="line"></div><div class="line">ADDDATE(d,n)	</div><div class="line">计算其实日期d加上n天的日期</div><div class="line"></div><div class="line">ADDDATE(d，INTERVAL expr type)	</div><div class="line">计算起始日期d加上一个时间段后的日期</div><div class="line"></div><div class="line">SELECT ADDDATE(&apos;2011-11-11 11:11:11&apos;,1)</div><div class="line">-&gt;2011-11-12 11:11:11	(默认是天)</div><div class="line"></div><div class="line">SELECT ADDDATE(&apos;2011-11-11 11:11:11&apos;, INTERVAL 5 MINUTE)</div><div class="line">-&gt;2011-11-11 11:16:11 (TYPE的取值与上面那个列出来的函数类似)</div><div class="line"></div><div class="line">DATE_ADD(d,INTERVAL expr type)	同上</div><div class="line">SUBDATE(d,n)	</div><div class="line">日期d减去n天后的日期</div><div class="line"></div><div class="line">SELECT SUBDATE(&apos;2011-11-11 11:11:11&apos;, 1)</div><div class="line">-&gt;2011-11-10 11:11:11 (默认是天)</div><div class="line"></div><div class="line">SUBDATE(d,INTERVAL expr type)	</div><div class="line">日期d减去一个时间段后的日期</div><div class="line"></div><div class="line">SELECT SUBDATE(&apos;2011-11-11 11:11:11&apos;, INTERVAL 5 MINUTE)</div><div class="line">-&gt;2011-11-11 11:06:11 (TYPE的取值与上面那个列出来的函数类似)</div><div class="line"></div><div class="line">ADDTIME(t,n)	</div><div class="line">时间t加上n秒的时间</div><div class="line"></div><div class="line">SELECT ADDTIME(&apos;2011-11-11 11:11:11&apos;, 5)</div><div class="line">-&gt;2011-11-11 11:11:16 (秒)</div><div class="line"></div><div class="line">SUBTIME(t,n)	</div><div class="line">时间t减去n秒的时间</div><div class="line"></div><div class="line">SELECT SUBTIME(&apos;2011-11-11 11:11:11&apos;, 5)</div><div class="line">-&gt;2011-11-11 11:11:06 (秒)</div><div class="line"></div><div class="line">DATE_FORMAT(d,f)	</div><div class="line">按表达式f的要求显示日期d</div><div class="line"></div><div class="line">SELECT DATE_FORMAT(&apos;2011-11-11 11:11:11&apos;,&apos;%Y-%m-%d %r&apos;)</div><div class="line">-&gt;2011-11-11 11:11:11 AM</div><div class="line"></div><div class="line">TIME_FORMAT(t,f)	</div><div class="line">按表达式f的要求显示时间t</div><div class="line"></div><div class="line">SELECT TIME_FORMAT(&apos;11:11:11&apos;,&apos;%r&apos;)</div><div class="line">11:11:11 AM</div><div class="line"></div><div class="line">GET_FORMAT(type,s)	</div><div class="line">获得国家地区时间格式函数</div><div class="line"></div><div class="line">select get_format(date,&apos;usa&apos;)</div><div class="line">-&gt;%m.%d.%Y (注意返回的就是这个奇怪的字符串(format字符串))</div><div class="line"></div><div class="line"> </div><div class="line"></div><div class="line">四、条件判断函数</div><div class="line">　　1、IF(expr,v1,v2)函数</div><div class="line"></div><div class="line">　　如果表达式expr成立，返回结果v1；否则，返回结果v2。</div><div class="line"></div><div class="line">SELECT IF(1 &gt; 0,&apos;正确&apos;,&apos;错误&apos;)    </div><div class="line">-&gt;正确</div><div class="line">　　2、IFNULL(v1,v2)函数</div><div class="line"></div><div class="line">　　如果v1的值不为NULL，则返回v1，否则返回v2。</div><div class="line"></div><div class="line">SELECT IFNULL(null,&apos;Hello Word&apos;)</div><div class="line">-&gt;Hello Word</div><div class="line">　　3、CASE</div><div class="line"></div><div class="line">　　语法1：</div><div class="line"></div><div class="line">复制代码</div><div class="line">CASE </div><div class="line">　　WHEN e1</div><div class="line">　　THEN v1</div><div class="line">　　WHEN e2</div><div class="line">　　THEN e2</div><div class="line">　　...</div><div class="line">　　ELSE vn</div><div class="line">END</div><div class="line">复制代码</div><div class="line">　　CASE表示函数开始，END表示函数结束。如果e1成立，则返回v1,如果e2成立，则返回v2，当全部不成立则返回vn，而当有一个成立之后，后面的就不执行了。</div><div class="line"></div><div class="line">复制代码</div><div class="line">SELECT CASE </div><div class="line">　　WHEN 1 &gt; 0</div><div class="line">　　THEN &apos;1 &gt; 0&apos;</div><div class="line">　　WHEN 2 &gt; 0</div><div class="line">　　THEN &apos;2 &gt; 0&apos;</div><div class="line">　　ELSE &apos;3 &gt; 0&apos;</div><div class="line">　　END</div><div class="line">-&gt;1 &gt; 0</div><div class="line">复制代码</div><div class="line">　　语法2：</div><div class="line"></div><div class="line">CASE expr </div><div class="line">　　WHEN e1 THEN v1</div><div class="line">　　WHEN e1 THEN v1</div><div class="line">　　...</div><div class="line">　　ELSE vn</div><div class="line">END</div><div class="line">　　如果表达式expr的值等于e1，返回v1；如果等于e2,则返回e2。否则返回vn。</div><div class="line"></div><div class="line">SELECT CASE 1 </div><div class="line">　　WHEN 1 THEN &apos;我是1&apos;</div><div class="line">　　WHEN 2 THEN &apos;我是2&apos;</div><div class="line">ELSE &apos;你是谁&apos;</div><div class="line"> </div><div class="line"></div><div class="line">五、系统信息函数</div><div class="line">　　系统信息函数用来查询MySQL数据库的系统信息。</div><div class="line"></div><div class="line">函数	作用</div><div class="line">VERSION()	</div><div class="line">返回数据库的版本号</div><div class="line"></div><div class="line">SELECT VERSION()</div><div class="line">-&gt;5.0.67-community-nt</div><div class="line"></div><div class="line">CONNECTION_ID() 	返回服务器的连接数</div><div class="line">DATABASE()、SCHEMA	返回当前数据库名</div><div class="line">USER()、SYSTEM_USER()、SESSION_USER()、</div><div class="line"></div><div class="line">CURRENT_USER()、CURRENT_USER</div><div class="line"></div><div class="line">返回当前用户</div><div class="line">CHARSET(str)	返回字符串str的字符集</div><div class="line">COLLATION(str)	返回字符串str的字符排列方式</div><div class="line">LAST_INSERT_ID()	返回最近生成的AUTO_INCREMENT值</div><div class="line">六、加密函数</div><div class="line">　　加密函数是MySQL用来对数据进行加密的函数。</div><div class="line"></div><div class="line">　　1、PASSWORD(str)</div><div class="line"></div><div class="line">　　该函数可以对字符串str进行加密，一般情况下，PASSWORD(str)用于给用户的密码加密。</div><div class="line"></div><div class="line">SELECT PASSWORD(&apos;123&apos;)</div><div class="line">    -&gt;*23AE809DDACAF96AF0FD78ED04B6A265E05AA257</div><div class="line">　　2、MD5</div><div class="line"></div><div class="line">　　MD5(str)函数可以对字符串str进行散列，可以用于一些普通的不需要解密的数据加密。</div><div class="line"></div><div class="line">SELECT md5(&apos;123&apos;)</div><div class="line">    -&gt;202cb962ac59075b964b07152d234b70</div><div class="line">　　3、ENCODE(str,pswd_str)与DECODE(crypt_str,pswd_str)</div><div class="line"></div><div class="line">　　ENCODE函数可以使用加密密码pswd_str来加密字符串str，加密结果是二进制数，需要使用BLOB类型的字段保存。该函数与DECODE是一对，需要同样的密码才能够解密。</div><div class="line"></div><div class="line">SELECT ENCODE(&apos;123&apos;,&apos;xxoo&apos;)</div><div class="line">    -&gt;;vx</div><div class="line">SELECT DECODE(&apos;;vx&apos;,&apos;xxoo&apos;)</div><div class="line">    -&gt;123</div><div class="line"> </div><div class="line"></div><div class="line">七、其他函数</div><div class="line">　　1、格式化函数FORMAT(x,n)</div><div class="line"></div><div class="line">　　FORMAT(x,n)函数可以将数字x进行格式化，将x保留到小数点后n位。</div><div class="line"></div><div class="line">SELECT FORMAT(3.1415926,3)</div><div class="line">    -&gt;3.142</div><div class="line">　　2、不同进制的数字进行转换</div><div class="line"></div><div class="line">ASCII(s) 返回字符串s的第一个字符的ASCII码；</div><div class="line">BIN（x） 返回x的二进制编码；</div><div class="line">HEX(x) 返回x的十六进制编码；</div><div class="line">OCT(x) 返回x的八进制编码；</div><div class="line">CONV(x,f1,f2) 返回f1进制数变成f2进制数；</div><div class="line">　　3、IP地址与数字相互转换的函数</div><div class="line"></div><div class="line">INET_ATON(IP)函数可以将IP地址转换为数字表示；IP值需要加上引号；</div><div class="line">INET_NTOA(n)函数可以将数字n转换成IP形式。</div><div class="line">SELECT INET_ATON(&apos;192.168.0.1&apos;)</div><div class="line">    -&gt;3232235521</div><div class="line">SELECT INET_NTOA(3232235521)</div><div class="line">    -&gt;192.168.0.1</div><div class="line">　　4、加锁函数和解锁函数</div><div class="line"></div><div class="line">GET_LOCK(name,time)函数定义一个名称为nam、持续时间长度为time秒的锁。如果锁定成功，则返回1；如果尝试超时，则返回0；如果遇到错误，返回NULL。</div><div class="line">RELEASE_LOCK(name)函数解除名称为name的锁。如果解锁成功，则返回1；如果尝试超时，返回0了如果解锁失败，返回NULL；</div><div class="line">IS_FREE_LOCK(name)函数判断是否已使用名为name的锁定。如果使用，返回0，否则，返回1；</div><div class="line"> </div><div class="line"></div><div class="line">SELECT GET_LOCK(&apos;MySQL&apos;,10)</div><div class="line">    -&gt;1    (持续10秒)</div><div class="line">SELECT IS_FREE_LOCK(&apos;MySQL&apos;)</div><div class="line">    -&gt;1    </div><div class="line">SELECT RELEASE_LOCK(&apos;MySQL&apos;)</div><div class="line">    -&gt;1</div><div class="line">　　5、重复执行指定操作的函数</div><div class="line"></div><div class="line">　　BENCHMARK(count.expr)函数将表达式expr重复执行count此，然后返回执行时间。该函数可以用来判断MySQL处理表达式的速度。</div><div class="line"></div><div class="line">SELECT BENCHMARK(10000,NOW())</div><div class="line">    -&gt;0    返回系统时间1万</div><div class="line">　　6、改变字符集的函数</div><div class="line"></div><div class="line">　　CONVERT(s USING cs)函数将字符串s的字符集变成cs。</div><div class="line"></div><div class="line">SELECT CHARSET(&apos;ABC&apos;)</div><div class="line">    -&gt;utf-8    </div><div class="line"></div><div class="line">SELECT CHARSET(CONVERT(&apos;ABC&apos; USING gbk))</div><div class="line">    -&gt;gbk</div><div class="line">　　7、转换数据类型</div><div class="line"></div><div class="line">CAST(x AS type)</div><div class="line">CONVERT(x,type)</div><div class="line">　　这两个函数只对BINARY、CHAR、DATE、DATETIME、TIME、SIGNED INTEGER、UNSIGNED INTEGER。</div><div class="line"></div><div class="line">复制代码</div><div class="line">SELECT CAST(&apos;123&apos; AS UNSIGNED INTEGER) + 1</div><div class="line">    -&gt;124</div><div class="line"></div><div class="line">SELECT &apos;123&apos; + 1</div><div class="line">    -&gt;124 其实MySQL能默认转换</div><div class="line"></div><div class="line">SELECT CAST(NOW() AS DATE)</div><div class="line">　　-&gt;2014-12-18</div><div class="line">复制代码</div></pre></td></tr></table></figure>
<h1 id="MySQL的备份与恢复"><a href="#MySQL的备份与恢复" class="headerlink" title="MySQL的备份与恢复"></a>MySQL的备份与恢复</h1><h2 id="数据库备份"><a href="#数据库备份" class="headerlink" title="数据库备份"></a>数据库备份</h2><hr>
<pre><code>mysqldump -u 用户名 -p  数据库名(要导出的原有数据库的名称) 》生成的脚本文件路径(包含生成的新数据库名字，可以随便起)
然后enter输入密码即可，或者直接在p后面跟上密码(p和密码之间不能有空格)
</code></pre><hr>
<h2 id="数据库恢复"><a href="#数据库恢复" class="headerlink" title="数据库恢复"></a>数据库恢复</h2><hr>
<pre><code>因为数据库恢复只能恢复table级别以及以下，所以恢复数据库时候，首先要自己创建一个数据库之后才能进行恢复操作
步骤：
先登陆mysql
创建新数据库，使用新创建数据库
然后直接sql脚本
mysql&gt; source c:\mydb1.sql 
注意：在执行脚本时候需要线性核查当前数据库中表是否与脚本有冲突
例如使用的数据库本身已经有a表，但是mydb1.sql脚本中也有表a，则会有冲突
在CMD下 命令不能加;
</code></pre><hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/MySQL/" data-id="cj60seec1001860nks36xpasb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Less" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Less/" class="article-date">
  <time datetime="2017-08-06T13:22:10.519Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Less/">Less</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Less"><a href="#Less" class="headerlink" title="Less"></a>Less</h1><h2 id="Sass-styuls"><a href="#Sass-styuls" class="headerlink" title="Sass styuls"></a>Sass styuls</h2><blockquote>
<p>一款比较流行的预处理CSS，支持变量、混合、函数、嵌套、循环等特点<br><a href="http://lesscss.org/" target="_blank" rel="external">官网</a><br><a href="http://lesscss.cn/" target="_blank" rel="external">中文网</a><br><a href="http://www.w3cplus.com/css/less" target="_blank" rel="external">http://www.w3cplus.com/css/less</a></p>
</blockquote>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><h2 id="为什么要有预处理CSS"><a href="#为什么要有预处理CSS" class="headerlink" title="为什么要有预处理CSS"></a>为什么要有预处理CSS</h2><p>CSS基本上是设计师的工具，不是程序员的工具。在程序员的眼里，CSS是很头痛的事情，它并不像其它程序语言，比如说PHP、Javascript等等，有自己的变量、常量、条件语句以及一些编程语法，只是一行行单纯的属性描述，写起来相当的费事，而且代码难易组织和维护。</p>
<p>很自然的，有人就开始在想，能不能给CSS像其他程序语言一样，加入一些编程元素，让CSS能像其他程序语言一样可以做一些预定的处理。这样一来，就有了“CSS预处器（CSS Preprocessor）”。</p>
<h2 id="什么是预处理CSS"><a href="#什么是预处理CSS" class="headerlink" title="什么是预处理CSS"></a>什么是预处理CSS</h2><ul>
<li>CSS语言的超集，比CSS更丰满</li>
</ul>
<p>CSS预处理器定义了一种新的语言，其基本思想是，用一种专门的编程语言，为CSS增加了一些编程的特性，将CSS作为目标生成文件，然后开发者就只要使用这种语言进行编码工作。通俗的说，CSS预处理器用一种专门的编程语言，进行Web页面样式设计，然后再编译成正常的CSS文件，以供项目使用。CSS预处理器为CSS增加一些编程的特性，无需考虑浏览器的兼容性问题，例如你可以在CSS中使用变量、简单的逻辑程序、函数等等在编程语言中的一些基本特性，可以让你的CSS更加简洁、适应性更强、可读性更佳，更易于代码的维护等诸多好处。</p>
<p>CSS预处理器技术已经非常的成熟，而且也涌现出了很多种不同的CSS预处理器语言，比如说：Sass（SCSS）、LESS、Stylus、Turbine、Swithch CSS、CSS Cacheer、DT CSS等。如此之多的CSS预处理器，那么“我应该选择哪种CSS预处理器？”也相应成了最近网上的一大热门话题，在Linkedin、Twitter、CSS-Trick、知呼以及各大技术论坛上，很多人为此争论不休。相比过计我们对是否应该使用CSS预处理器的话题而言，这已经是很大的进步了。</p>
<p>到目前为止，在众多优秀的CSS预处理器语言中就属Sass、LESS和Stylus最优秀，讨论的也多，对比的也多。本文将分别从他们产生的背景、安装、使用语法、异同等几个对比之处向你介绍这三款CSS预处理器语言。相信前端开发工程师会做出自己的选择——我要选择哪款CSS预处理器。</p>
<h2 id="如何使用预处理Less"><a href="#如何使用预处理Less" class="headerlink" title="如何使用预处理Less"></a>如何使用预处理Less</h2><h3 id="less-js"><a href="#less-js" class="headerlink" title="less.js"></a>less.js</h3><blockquote>
<p>网页运行阶段解析LESS文件</p>
</blockquote>
<h4 id="使用方式："><a href="#使用方式：" class="headerlink" title="使用方式："></a>使用方式：</h4><h3 id="less-compiler"><a href="#less-compiler" class="headerlink" title="less compiler"></a>less compiler</h3><blockquote>
<p>开发阶段编译LESS文件成为CSS</p>
</blockquote>
<h4 id="使用方式：-1"><a href="#使用方式：-1" class="headerlink" title="使用方式："></a>使用方式：</h4><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><ul>
<li>安装Node.js</li>
<li>安装less<ul>
<li>命令行执行：npm install -g less</li>
</ul>
</li>
</ul>
<h5 id="编译操作"><a href="#编译操作" class="headerlink" title="编译操作"></a>编译操作</h5><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 模板注释，这里的注释转换成CSS后将会删除</span></div><div class="line"><span class="comment">/* CSS 注释语法 转换为CSS后任然保留 */</span></div></pre></td></tr></table></figure>
<h4 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h4><blockquote>
<p>将需要重复使用或经常修改的值定义为变量，需要使用的地方引用</p>
</blockquote>
<ul>
<li><p>less</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@变量名: 变量值;</div><div class="line"><span class="variable">@bgColor:</span> <span class="number">#f5f5f5</span>;</div><div class="line"></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">width</span>: @变量名;</div><div class="line">  <span class="attribute">background-color</span>: <span class="variable">@bgColor</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">width</span>: 变量值;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="嵌套"><a href="#嵌套" class="headerlink" title="嵌套"></a>嵌套</h4><blockquote>
<p>如果你在CSS中经常使用子代选择器，那LESS的嵌套语法使用起来非常Happy</p>
</blockquote>
<ul>
<li><p>less</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="variable">@containerWidth</span>;</div><div class="line">  &gt; <span class="selector-class">.row</span> &#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">    <span class="selector-tag">a</span>&#123;</div><div class="line">      <span class="attribute">color</span>: <span class="number">#f40</span>;</div><div class="line">      <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span>&#123;</div><div class="line">        <span class="attribute">color</span>: <span class="number">#f50</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">div</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">    <span class="selector-class">.hello</span> &#123;</div><div class="line">      <span class="attribute">background-color</span>: <span class="number">#00f</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">1024px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.container</span> &gt; <span class="selector-class">.row</span> &#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.container</span> &gt; <span class="selector-class">.row</span> <span class="selector-tag">a</span> &#123;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#f40</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.container</span> &gt; <span class="selector-class">.row</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#f50</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.container</span> <span class="selector-tag">div</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.container</span> <span class="selector-tag">div</span> <span class="selector-class">.hello</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#00f</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Mixin"><a href="#Mixin" class="headerlink" title="Mixin"></a>Mixin</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 定义一个类 */</span></div><div class="line"><span class="selector-class">.roundedCorners</span>(<span class="variable">@radius</span>: <span class="number">5px</span>) &#123;</div><div class="line">  <span class="attribute">-moz-border-radius</span>: <span class="variable">@radius</span>;</div><div class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="variable">@radius</span>;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/* 定义的类应用到另个一个类中 */</span></div><div class="line">＃<span class="selector-tag">header</span> &#123;</div><div class="line">  <span class="selector-class">.roundedCorners</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#footer</span> &#123;</div><div class="line">  <span class="selector-class">.roundedCorners</span>(<span class="number">10px</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Import"><a href="#Import" class="headerlink" title="Import"></a>Import</h4><blockquote>
<p>我们可以在开发阶段将样式放到多个文件中，最后通过@import 的方式合并</p>
</blockquote>
<ul>
<li><p>less</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.less</span></div><div class="line"><span class="variable">@btnColor:</span> red;</div><div class="line"><span class="keyword">@import</span> url(<span class="string">'_buttom.less'</span>);</div><div class="line"></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">1024px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// _buttom.less</span></div><div class="line"><span class="selector-class">.btn</span>&#123;</div><div class="line">  <span class="attribute">color</span>: <span class="variable">@btnColor</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>css</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.btn</span>&#123;</div><div class="line">  <span class="attribute">color</span>: red;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">1024px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><h5 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h5><ul>
<li>lighten：将一个颜色变亮<ul>
<li>lighten(#000, 10%); // #1a1a1a</li>
</ul>
</li>
<li>darken：将一个颜色变暗<ul>
<li>darken(#000, 10%); // #e6e6e6</li>
</ul>
</li>
</ul>
<h5 id="自定义函数等讲流行框架再说"><a href="#自定义函数等讲流行框架再说" class="headerlink" title="自定义函数等讲流行框架再说"></a>自定义函数等讲流行框架再说</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@mainColor:#e92322;</div><div class="line">body&#123;</div><div class="line">    background-color: @mainColor;</div><div class="line">&#125;</div><div class="line">说明：less就相当于把一些重复例如颜色提取成变量，可以统一修改。</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Less/" data-id="cj60seebz001660nka0oaxof5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Js概要" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Js概要/" class="article-date">
  <time datetime="2017-08-06T13:22:10.517Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Js概要/">Js概要</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一、js简介：不做叙述"><a href="#一、js简介：不做叙述" class="headerlink" title="一、js简介：不做叙述"></a>一、js简介：不做叙述</h1><blockquote>
<p>1、js是什么<br>    2、js作用<br>    3、组成<br>    4、引入方式</p>
</blockquote>
<h1 id="二、基本语法：不做叙述"><a href="#二、基本语法：不做叙述" class="headerlink" title="二、基本语法：不做叙述"></a>二、基本语法：不做叙述</h1><blockquote>
<pre><code>1、变量
2、原始数据类型
3、引入数据类型
4、运算符
5、逻辑语句
</code></pre></blockquote>
<h1 id="三、js内建对象"><a href="#三、js内建对象" class="headerlink" title="三、js内建对象"></a>三、js内建对象</h1><h2 id="1-Number"><a href="#1-Number" class="headerlink" title="(1) Number"></a>(1) Number</h2><hr>
<pre><code>创建方式：
        var myNum=new Number(value);
        var myNum=Number(value);

属性和方法：
        toString():转成字符串
        valueOf()：返回一个 Number 对象的基本数字值

        var num=new Number(100);
          alert(typeof num);//object
          alert(typeof num.valueOf());//number
</code></pre><hr>
<h2 id="2-Boolean"><a href="#2-Boolean" class="headerlink" title="(2) Boolean"></a>(2) Boolean</h2><hr>
<pre><code>创建方式：
        var bool = new Boolean(value);    
        var bool = Boolean(value);
    属性和方法：
        toString():转成字符串
        valueOf()：返回一个 Boolean 对象的基本值(boolean)        
</code></pre><hr>
<h2 id="3-String"><a href="#3-String" class="headerlink" title="(3) String"></a>(3) String</h2><hr>
<pre><code>创建方式：
    var str = new String(s);
    var str = String(s);
属性和方法：
    length:字符串的长度
    charAt():返回索引字符
    charCodeAt:返回索引字符unicode
    indexOf():返回字符的索引
    lastIndexOf();逆向返回字符的索引
    split();将字符串按照特殊字符切割成数组
    substr():从起始索引号提取字符串中指定数目的字符
    substring():提取字符串中两个指定的索引号之间的字符
    toUpperCase();转大写
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">示例：</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">  var s=&apos;aldakanf&apos;;</div><div class="line">  var ss=s.split(&apos;a&apos;);</div><div class="line">  for (var i = 0; i &lt; ss.length; i++) &#123;</div><div class="line">    console.log(&apos;我是&apos;+i+ss[i]);</div><div class="line">  &#125;</div><div class="line">  console.log(s.substr(1,4));//ldak</div><div class="line">  console.log(s.substring(1,4));//lda</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="4-Array"><a href="#4-Array" class="headerlink" title="(4) Array"></a>(4) Array</h2><hr>
<pre><code>创建方式：
    var arr = new Array();//空数组
    var arr = new Array(size);//创建一个指定长度的数据
    var arr = new Array(element0, element1, ..., elementn);//创建数组直接实例化元素
    var arr = [];//空数组
    var arr = [1,2,5,&quot;java&quot;];//创建数组直接实例化元素
属性和方法：
    length:数组长度
    join()：把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔一个
    pop():删除并返回最后元素
    push()：向数组的末尾添加一个或更多元素，并返回新的长度
    shift():删除并返回该元素
    unshift()：向数组的开头添加一个或更多元素，并返回新的长度
    reverse();反转数组
    sort();排序
</code></pre><hr>
<h2 id="5-Date"><a href="#5-Date" class="headerlink" title="(5) Date"></a>(5) Date</h2><hr>
<pre><code>创建方式：    
    var myDate = new Date();
    var myDate = new Date(毫秒值);//代表从1970-1-1到现在的一个毫秒值
属性和方法
    getFullYear():年
    getMonth():月 0-11
    getDate():日 1-31
    getDay()：星期 0-6
    getTime():返回1970年1月1日午夜到指定日期（字符串）的毫秒数
    toLocalString();获得本地时间格式的字符串
</code></pre><hr>
<h2 id="6-Math"><a href="#6-Math" class="headerlink" title="(6) Math"></a>(6) Math</h2><hr>
<pre><code>创建方式：    
    Math 对象并不像 Date 和 String 那样是对象的类，因此没有构造函数 Math()，像 Math.sin() 这样的函数只是函数，
    不是某个对象的方法。您无需创建它，通过把 Math 作为对象使用就可以调用其所有属性和方法。
属性和方法
    PI：圆周率
    abs():绝对值
    ceil():对数进行上舍入
    floor():对数进行下舍入
    pow(x,y)：返回 x 的 y 次幂
    random():0-1之间的随机数
    round():四舍五入
</code></pre><hr>
<h2 id="7-RegExp"><a href="#7-RegExp" class="headerlink" title="(7) RegExp"></a>(7) RegExp</h2><hr>
<pre><code>创建方式：    
    var reg = new RegExp(pattern);
    var reg = /^正则规则$/;
规则的写法：
    [0-9] 
    [A-Z]
    [a-z]
    [A-z]
    \d 代表数据
    \D    非数字
    \w    查找单词字符
    \W    查找非单词字符
    \s    查找空白字符
    \S    查找非空白字符
    n+    出现至少一次
    n*    出现0次或多次
    n?    出现0次或1次
    {5} 出现5
    {2,8} 2到8次
方法：    
    test(str):检索字符串中指定的值。返回 true 或 false
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">需求：</div><div class="line">	校验邮箱：</div><div class="line">	var email = haohao_827@163.com</div><div class="line">	var reg = /^[A-z]+[A-z0-9_-]*\@[A-z0-9]+\.[A-z]+$/;</div><div class="line">	reg.test(email);</div></pre></td></tr></table></figure>
<h1 id="四、js的函数"><a href="#四、js的函数" class="headerlink" title="四、js的函数"></a>四、js的函数</h1><h2 id="1、js函数定义的方式"><a href="#1、js函数定义的方式" class="headerlink" title="1、js函数定义的方式"></a>1、js函数定义的方式</h2><blockquote>
<pre><code>(1)普通方式
    语法：function 函数名(参数列表){函数体}
    示例：
        function method(){
            alert(&quot;xxx&quot;);
        }
        method();
(2)匿名函数
    语法：function(参数列表){函数体}
    示例：
        var method = function(){
            alert(&quot;yyy&quot;);
        };
        method();
(3)对象函数
    语法：new Function(参数1,参数2,...,函数体);
    注意：参数名称必须使用字符串形式、最后一个默认是函数体且函数体需要字符串形式
    示例：
        var fn = new Function(&quot;a&quot;,&quot;b&quot;,&quot;alert(a+b)&quot;);
        fn(2,5);
</code></pre></blockquote>
<h2 id="2、函数的参数"><a href="#2、函数的参数" class="headerlink" title="2、函数的参数"></a>2、函数的参数</h2><blockquote>
<pre><code>(1)形参没有var去修饰
(2)形参和实参个数不一定相等
(3)arguments对象 是个数组 会将传递的实参进行封装
function fn(a,b,c){
    //var sum = a+b+c;
    //alert(sum);
    //arguments是个数组 会将传递的实参进行封装
    for(var i=0;i&lt;arguments.length;i++){
        alert(arguments[i]);
    }
}
fn(1,2,4,8);
</code></pre></blockquote>
<h2 id="3、返回值"><a href="#3、返回值" class="headerlink" title="3、返回值"></a>3、返回值</h2><blockquote>
<pre><code>(1)在定义函数的时候不必表明是否具有返回值
(2)返回值仅仅通过return关键字就可以了 return后的代码不执行
function fn(a,b){
    return a+b;
    //alert(&quot;xxxx&quot;);
}
alert(fn(2,3));
</code></pre></blockquote>
<h2 id="4、js的全局函数"><a href="#4、js的全局函数" class="headerlink" title="4、js的全局函数"></a>4、js的全局函数</h2><blockquote>
<pre><code>(1)编码和解码
    encodeURI()   decodeURI()
    encodeURIComponet()      decodeURIComponent()
    escape()    unescape()
    三者区别：
        进行编码的符号范围不同吧，实际开发中常使用第一种
(2)强制转换
    Number()
    String()
    Boolean()
(3)转成数字
    parseInt()
    parseFloat()
(4)eval()方法    
    将字符串当作脚本进行解析运行
    //var str = &quot;var a=2;var b=3;alert(a+b)&quot;;
    //eval(str);
    function print(str){
        eval(str);
    }
    print(&quot;自定义逻辑&quot;);
</code></pre></blockquote>
<h2 id="五、js的事件"><a href="#五、js的事件" class="headerlink" title="五、js的事件"></a>五、js的事件</h2><blockquote>
<pre><code>事件
事件源
响应行为
</code></pre></blockquote>
<h2 id="1、js的常用事件"><a href="#1、js的常用事件" class="headerlink" title="1、js的常用事件"></a>1、js的常用事件</h2><hr>
<pre><code>onclick:点击事件
onchange:域内容被改变的事件
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">需求：实现二级联动</div><div class="line">&lt;select id=&quot;city&quot;&gt;</div><div class="line">	&lt;option value=&quot;bj&quot;&gt;北京&lt;/option&gt;</div><div class="line">	&lt;option value=&quot;tj&quot;&gt;天津&lt;/option&gt;</div><div class="line">	&lt;option value=&quot;sh&quot;&gt;上海&lt;/option&gt;</div><div class="line">&lt;/select&gt;</div><div class="line">&lt;select id=&quot;area&quot;&gt;</div><div class="line">	&lt;option&gt;海淀&lt;/option&gt;</div><div class="line">	&lt;option&gt;朝阳&lt;/option&gt;</div><div class="line">	&lt;option&gt;东城&lt;/option&gt;</div><div class="line">&lt;/select&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var select = document.getElementById(&quot;city&quot;);</div><div class="line">	select.onchange = function()&#123;</div><div class="line">		var optionVal = select.value;</div><div class="line">		switch(optionVal)&#123;</div><div class="line">			case &apos;bj&apos;:</div><div class="line">				var area = document.getElementById(&quot;area&quot;);</div><div class="line">				area.innerHTML = &quot;&lt;option&gt;海淀&lt;/option&gt;&lt;option&gt;朝阳&lt;/option&gt;&lt;option&gt;东城&lt;/option&gt;&quot;;</div><div class="line">				break;</div><div class="line">			case &apos;tj&apos;:</div><div class="line">				var area = document.getElementById(&quot;area&quot;);</div><div class="line">				area.innerHTML = &quot;&lt;option&gt;南开&lt;/option&gt;&lt;option&gt;西青&lt;/option&gt;&lt;option&gt;河西&lt;/option&gt;&quot;;</div><div class="line">				break;</div><div class="line">			case &apos;sh&apos;:</div><div class="line">				var area = document.getElementById(&quot;area&quot;);</div><div class="line">				area.innerHTML = &quot;&lt;option&gt;浦东&lt;/option&gt;&lt;option&gt;杨浦&lt;/option&gt;&quot;;</div><div class="line">				break;</div><div class="line">			default:</div><div class="line">				alert(&quot;error&quot;);</div><div class="line">		&#125;</div><div class="line">	&#125;;				</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<hr>
<pre><code>onfoucus:获得焦点的事件
onblur:失去焦点的事件
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">需求：	当输入框获得焦点的时候，提示输入的内容格式</div><div class="line">		当输入框失去焦点的时候，提示输入有误</div><div class="line">&lt;label for=&quot;txt&quot;&gt;name&lt;/label&gt;</div><div class="line">&lt;input id=&quot;txt&quot; type=&quot;text&quot; /&gt;&lt;span id=&quot;action&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var txt = document.getElementById(&quot;txt&quot;);</div><div class="line">	txt.onfocus = function()&#123;</div><div class="line">		//友好提示</div><div class="line">		var span = document.getElementById(&quot;action&quot;);</div><div class="line">		span.innerHTML = &quot;用户名格式最小8位&quot;;</div><div class="line">		span.style.color = &quot;green&quot;;</div><div class="line">	&#125;;</div><div class="line">	txt.onblur = function()&#123;</div><div class="line">		//错误提示</div><div class="line">		var span = document.getElementById(&quot;action&quot;);</div><div class="line">		span.innerHTML = &quot;对不起 格式不正确&quot;;</div><div class="line">		span.style.color = &quot;red&quot;;</div><div class="line">	&#125;;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<hr>
<pre><code>onmouseover:鼠标悬浮的事件
onmouseout:鼠标离开的事件
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">需求：div元素 鼠标移入变为绿色 移出恢复原色</div><div class="line">#d1&#123;background-color: red;width:200px;height: 200px;&#125;</div><div class="line">&lt;div id=&quot;d1&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var div = document.getElementById(&quot;d1&quot;);</div><div class="line">	div.onmouseover = function()&#123;</div><div class="line">		this.style.backgroundColor = &quot;green&quot;;</div><div class="line">	&#125;;</div><div class="line">	div.onmouseout = function()&#123;</div><div class="line">		this.style.backgroundColor = &quot;red&quot;;</div><div class="line">	&#125;;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>onload:加载完毕的事件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">等到页面加载完毕在执行onload事件所指向的函数</div><div class="line">&lt;span id=&quot;span&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	window.onload = function()&#123;</div><div class="line">		var span = document.getElementById(&quot;span&quot;);</div><div class="line">		alert(span);</div><div class="line">		span.innerHTML = &quot;hello js&quot;;</div><div class="line">	&#125;;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="2、事件的绑定方式"><a href="#2、事件的绑定方式" class="headerlink" title="2、事件的绑定方式"></a>2、事件的绑定方式</h2><h3 id="1-将事件和响应行为都内嵌到html标签中"><a href="#1-将事件和响应行为都内嵌到html标签中" class="headerlink" title="(1)将事件和响应行为都内嵌到html标签中"></a>(1)将事件和响应行为都内嵌到html标签中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;button&quot;  onclick=&quot;alert(&apos;xxx&apos;)&quot;/&gt;</div></pre></td></tr></table></figure>
<h3 id="2-将事件内嵌到html中而响应行为用函数进行封装"><a href="#2-将事件内嵌到html中而响应行为用函数进行封装" class="headerlink" title="(2)将事件内嵌到html中而响应行为用函数进行封装"></a>(2)将事件内嵌到html中而响应行为用函数进行封装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;button&quot; onclick=&quot;fn()&quot; /&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	function fn()&#123;</div><div class="line">		alert(&quot;yyy&quot;);</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="3-将事件和响应行为-与html标签完全分离"><a href="#3-将事件和响应行为-与html标签完全分离" class="headerlink" title="(3)将事件和响应行为 与html标签完全分离"></a>(3)将事件和响应行为 与html标签完全分离</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;input id=&quot;btn&quot; type=&quot;button&quot; value=&quot;button&quot;/&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var btn = document.getElementById(&quot;btn&quot;);</div><div class="line">	btn.onclick = function()&#123;</div><div class="line">		alert(&quot;zzz&quot;);</div><div class="line">	&#125;;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="this关键字"><a href="#this关键字" class="headerlink" title="**this关键字"></a><em>**</em>this关键字</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">this经过事件的函数进行传递的是html标签对象</div><div class="line">&lt;input id=&quot;btn&quot; name=&quot;mybtn&quot; type=&quot;button&quot; value=&quot;button123&quot; onclick=&quot;fn(this)&quot;/&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	function fn(obj)&#123;</div><div class="line">		alert(obj.name);</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="3、阻止事件的默认行为"><a href="#3、阻止事件的默认行为" class="headerlink" title="3、阻止事件的默认行为"></a>3、阻止事件的默认行为</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">IE：window.event.returnValue = false;</div><div class="line">W3c: 传递过来的事件对象.preventDefault();</div><div class="line">//ie：window.event.returnValue = false;</div><div class="line">//W3c：传递过来的事件对象.preventDefault();</div><div class="line">//W3c标准</div><div class="line">if(e&amp;&amp;e.preventDefault)&#123;</div><div class="line">	alert(&quot;w3c&quot;);</div><div class="line">	e.preventDefault();</div><div class="line">//IE标签</div><div class="line">&#125;else&#123;</div><div class="line">	alert(&quot;ie&quot;);</div><div class="line">	window.event.returnValue = false;</div><div class="line">&#125;</div><div class="line">例如:给a标签设置点击事件，阻止之后这样能相应点击事件，而不跳转(默认跳转被阻止)</div><div class="line"></div><div class="line">//通过事件返回false也可以阻止事件的默认行为</div><div class="line">&lt;a href=&quot;demo11.html&quot; onclick=&quot;return false&quot;&gt;点击我吧&lt;/a&gt;</div></pre></td></tr></table></figure>
<h2 id="4、阻止事件的传播"><a href="#4、阻止事件的传播" class="headerlink" title="4、阻止事件的传播"></a>4、阻止事件的传播</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">IE：window.event.cancelBubble = true;</div><div class="line">W3c: 传递过来的事件对象.stopPropagation();</div><div class="line">if(e&amp;&amp;e.stopPropagation)&#123;</div><div class="line">	alert(&quot;w3c&quot;);</div><div class="line">	e.stopPropagation();</div><div class="line">//IE标签</div><div class="line">&#125;else&#123;</div><div class="line">	alert(&quot;ie&quot;);</div><div class="line">	window.event.cancelBubble = true;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="六、js的bom"><a href="#六、js的bom" class="headerlink" title="六、js的bom"></a>六、js的bom</h1><h2 id="1-window对象"><a href="#1-window对象" class="headerlink" title="(1) window对象"></a>(1) window对象</h2><hr>
<pre><code>弹框的方法：
    提示框：alert(&quot;提示信息&quot;);
    确认框：confirm(&quot;确认信息&quot;);
        有返回值：如果点击确认返回true  如果点击取消 返回false
        var res = confirm(&quot;您确认要删除吗？&quot;);
        alert(res);
    输入框：prompt(&quot;提示信息&quot;);
        有返回值：如果点击确认返回输入框的文本 点击取消返回null
        var res =  prompt(&quot;请输入密码？&quot;);
        alert(res);
open方法：
    window.open(&quot;url地址&quot;);            
    open(&quot;../jsCore/demo10.html&quot;);
    弹窗形式存在(会提示是否拦截)
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">定时器：</div><div class="line">	setTimeout(函数,毫秒值);</div><div class="line">		setTimeout(</div><div class="line">			function()&#123;</div><div class="line">				alert(&quot;xx&quot;);</div><div class="line">				location.href=&apos;http://www.baidu.com&apos;;</div><div class="line">			&#125;,</div><div class="line">			3000</div><div class="line">		);</div><div class="line">	clearTimeout(定时器的名称);</div><div class="line">		var timer;</div><div class="line">		var fn = function()&#123;</div><div class="line">			alert(&quot;x&quot;);</div><div class="line">			timer = setTimeout(fn,2000);</div><div class="line">		&#125;;</div><div class="line">		var closer = function()&#123;</div><div class="line">			clearTimeout(timer);</div><div class="line">		&#125;;</div><div class="line">		fn();</div><div class="line">	setInterval(函数,毫秒值);</div><div class="line">	clearInterval(定时器的名称)</div><div class="line">		var timer = setInterval(</div><div class="line">		function()&#123;</div><div class="line">			alert(&quot;nihao&quot;);</div><div class="line">		&#125;,</div><div class="line">		2000</div><div class="line">	);</div><div class="line">	var closer = function()&#123;</div><div class="line">		clearInterval(timer);</div><div class="line">	&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>需求：注册后5秒钟跳转首页<br>        恭喜您注册成功，<span id="second" style="color: red;">5</span>秒后跳转到首页，如果不跳转请<a href="../jsCore/demo10.html">点击这里</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var time = 5;</div><div class="line">	var timer;</div><div class="line">	timer = setInterval(</div><div class="line">		function()&#123;</div><div class="line">			var second = document.getElementById(&quot;second&quot;);</div><div class="line">			if(time&gt;=1)&#123;</div><div class="line">				second.innerHTML = time;</div><div class="line">				time--;</div><div class="line">			&#125;else&#123;</div><div class="line">				clearInterval(timer);</div><div class="line">				location.href=&quot;../jsCore/demo10.html&quot;;</div><div class="line">			&#125;</div><div class="line">		&#125;,</div><div class="line">		1000</div><div class="line">	);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="2-location"><a href="#2-location" class="headerlink" title="(2) location"></a>(2) location</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">location.href=&quot;url地址&quot;;</div></pre></td></tr></table></figure>
<h2 id="3-history：历史纪录"><a href="#3-history：历史纪录" class="headerlink" title="(3) history：历史纪录"></a>(3) history：历史纪录</h2><hr>
<pre><code>back();相当于后退一步
forward();有历史记录的情况下，前进
go();
&lt;a href=&quot;demo7.html&quot;&gt;后一页&lt;/a&gt;
&lt;input type=&quot;button&quot; value=&quot;上一页&quot; onclick=&quot;history.back()&quot;&gt;
&lt;input type=&quot;button&quot; value=&quot;下一页&quot; onclick=&quot;history.forward()&quot;&gt;

&lt;input type=&quot;button&quot; value=&quot;上一页&quot; onclick=&quot;history.go(-1)&quot;&gt;
&lt;input type=&quot;button&quot; value=&quot;下一页&quot; onclick=&quot;history.go(1)&quot;&gt;
</code></pre><hr>
<h1 id="七、js的dom"><a href="#七、js的dom" class="headerlink" title="七、js的dom"></a>七、js的dom</h1><blockquote>
<p>1、getElementById</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; name=&quot;&quot; value=&quot;哈哈哈&quot; id=&quot;text&quot;&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var text=document.getElementById(&apos;text&apos;);</div><div class="line">	console.log(text.value);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>2、getElementsByName</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">   &lt;head&gt;</div><div class="line">       &lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">   &lt;/head&gt;</div><div class="line">   &lt;body&gt;</div><div class="line">     &lt;input type=&quot;text&quot;  value=&quot;&quot; name=&quot;hehe&quot;&gt;</div><div class="line">     &lt;input type=&quot;text&quot;  value=&quot;&quot; name=&quot;hehe&quot;&gt;</div><div class="line">     &lt;input type=&quot;text&quot;  value=&quot;&quot; name=&quot;hehe&quot;&gt;</div><div class="line">   &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var hehes=document.getElementsByName(&apos;hehe&apos;);</div><div class="line">for (var i = 0; i &lt; hehes.length; i++) &#123;</div><div class="line">  hehes[i].onchange=function () &#123;</div><div class="line">    //此处是错误案例，因为for遍历是在之前，onchange触发时候，</div><div class="line">    //这种引用已经不存在了，需要替换为this。</div><div class="line">    // console.log(hehes[i].value);</div><div class="line">  console.log(this.value);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>3、getElementsByTagName</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">   &lt;head&gt;</div><div class="line">       &lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">   &lt;/head&gt;</div><div class="line">   &lt;body&gt;</div><div class="line">     &lt;select name=&quot;&quot; id=&quot;&quot;&gt;</div><div class="line">       &lt;option value=&quot;beijing&quot;&gt;北京&lt;/option&gt;</div><div class="line">       &lt;option value=&quot;tianjin&quot;&gt;天津&lt;/option&gt;</div><div class="line">       &lt;option value=&quot;wuhan&quot;&gt;武汉&lt;/option&gt;</div><div class="line">     &lt;/select&gt;</div><div class="line">   &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var options=document.getElementsByTagName(&apos;option&apos;);</div><div class="line">for (var i = 0; i &lt; options.length; i++) &#123;</div><div class="line">  //此处this没有上面onchange的对应引用，此处对应的是window。</div><div class="line">  //console.log(this.value+&apos;.....&apos;+this);</div><div class="line">console.log(options[i].value);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>4、hasChildNodes：是否含有子节点</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;select name=&quot;&quot; id=&quot;sel&quot;&gt;</div><div class="line">     &lt;option value=&quot;beijing&quot;&gt;北京&lt;/option&gt;</div><div class="line">     &lt;option value=&quot;tianjin&quot;&gt;天津&lt;/option&gt;</div><div class="line">     &lt;option value=&quot;wuhan&quot;&gt;武汉&lt;/option&gt;</div><div class="line">   &lt;/select&gt;</div><div class="line">   var tar=document.getElementById(&apos;sel&apos;);</div><div class="line">console.log(tar.hasChildNodes());//true</div></pre></td></tr></table></figure>
<blockquote>
<p>5、nodeName nodeType nodeValue</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;select name=&quot;&quot; id=&quot;sel&quot;&gt;</div><div class="line">       &lt;option value=&quot;beijing&quot;&gt;北京&lt;/option&gt;</div><div class="line">   &lt;/select&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var tar1=document.getElementsByTagName(&apos;option&apos;)[0];</div><div class="line">console.log(tar1.nodeName+&apos;...&apos;+tar1.nodeType+&apos;....&apos;+tar1.nodeValue);</div><div class="line">//OPTION...1....null</div><div class="line">console.log(tar1.getAttributeNode(&apos;value&apos;));</div><div class="line">//value=&quot;beijing&quot;</div><div class="line">console.log(tar1.getAttribute(&apos;value&apos;));</div><div class="line">//beijing</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>6、setAttribute：设置属性</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">     &lt;div&gt;&lt;/div&gt;</div><div class="line">   &lt;/body&gt;</div><div class="line">   &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var d=document.getElementsByTagName(&apos;div&apos;)[0];</div><div class="line">d.setAttribute(&apos;id&apos;,&apos;d&apos;);</div><div class="line">console.log(d.getAttribute(&apos;id&apos;));//d</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>7、createElement</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">     &lt;div&gt;&lt;/div&gt;</div><div class="line">   &lt;/body&gt;</div><div class="line">   &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">//得到第一个div</div><div class="line">var d=document.getElementsByTagName(&apos;div&apos;)[0];</div><div class="line">//创建一个p标签</div><div class="line">var p=document.createElement(&apos;p&apos;);</div><div class="line">//创建文本标签</div><div class="line">var text=document.createTextNode(&apos;哈哈&apos;);</div><div class="line">//把文本节点添加到p</div><div class="line">p.appendChild(text);</div><div class="line">//p添加到div中</div><div class="line">d.appendChild(p);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>8、insertBefore(要添加的条目，添加到哪个前面)，insertAfter</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">       &lt;ul id=&quot;ul&quot;&gt;</div><div class="line">         &lt;li id=&quot;bj&quot;&gt;北京&lt;/li&gt;</div><div class="line">       &lt;/ul&gt;</div><div class="line">   &lt;/div&gt;</div><div class="line">   &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var ul=document.getElementById(&apos;ul&apos;);</div><div class="line">var bj=document.getElementById(&apos;bj&apos;);</div><div class="line">var li=document.createElement(&apos;li&apos;);</div><div class="line">var text=document.createTextNode(&apos;天津&apos;);</div><div class="line">li.appendChild(text);</div><div class="line">//把创建的li添加到北京前面</div><div class="line">ul.insertBefore(li,bj);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>9、removeChild</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;ul id=&quot;ul&quot;&gt;</div><div class="line">       &lt;li id=&quot;bj&quot;&gt;北京&lt;/li&gt;</div><div class="line">   &lt;/ul&gt;</div><div class="line">   &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var ul=document.getElementById(&apos;ul&apos;);</div><div class="line">var bj=document.getElementById(&apos;bj&apos;);</div><div class="line">ul.removeChild(bj);//删除了北京条目</div><div class="line">&lt;/script&gt;</div><div class="line">10、innerHTML innerText</div><div class="line">&lt;ul id=&quot;ul&quot;&gt;</div><div class="line">       &lt;li id=&quot;bj&quot;&gt;北京&lt;/li&gt;</div><div class="line">   &lt;/ul&gt;</div><div class="line">   &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var bj=document.getElementById(&apos;bj&apos;);</div><div class="line">bj.innerText=&apos;haha&apos;;//插入文本</div><div class="line">bj.innerHTML=&apos;&lt;h1&gt;呵呵&lt;/h1&gt;&apos;;//插入html,而且覆盖前面的</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Js概要/" data-id="cj60seebs001160nkmata855o" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Js闭包" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Js闭包/" class="article-date">
  <time datetime="2017-08-06T13:22:10.515Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Js闭包/">JS闭包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="闭包形式一："><a href="#闭包形式一：" class="headerlink" title="闭包形式一："></a>闭包形式一：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">function f1() &#123;</div><div class="line">var a=&quot;king&quot;;</div><div class="line">return function () &#123;</div><div class="line">return a;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">var result=f1();</div><div class="line">alert(result());</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：f1返回的函数，是没有函数名的。</p>
</blockquote>
<h1 id="闭包形式二："><a href="#闭包形式二：" class="headerlink" title="闭包形式二："></a>闭包形式二：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var n;</div><div class="line">function f1 () &#123;</div><div class="line">var a=&quot;king&quot;;</div><div class="line">n=function () &#123;</div><div class="line">return a;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">f1();</div><div class="line">alert(n());</div></pre></td></tr></table></figure>
<h1 id="闭包形式三："><a href="#闭包形式三：" class="headerlink" title="闭包形式三："></a>闭包形式三：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">function f1 () &#123;</div><div class="line">var a=456;</div><div class="line">var n=function () &#123;</div><div class="line">return a;</div><div class="line">&#125;</div><div class="line">a++;</div><div class="line">return n;</div><div class="line">&#125;</div><div class="line">var result=f1();</div><div class="line">alert(result());</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<hr>
<pre><code>输出：457。
解析：当f1执行时候，最后返回n，时候才会执行n对应的函数，所以，此时a已经++过了，而不是一般理解的var n的时
候执行对应函数。
拓展形式：其实闭包就是函数内部函数，其持有外部函数变量的引用。
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">(function f1 () &#123;</div><div class="line">var a=0;</div><div class="line">getValue=function () &#123;</div><div class="line">return a;</div><div class="line">&#125;</div><div class="line">setValue=function (x) &#123;</div><div class="line">a=x;</div><div class="line">&#125;</div><div class="line">&#125;)();</div><div class="line">alert(getValue());</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h1 id="面试题：对比下区别"><a href="#面试题：对比下区别" class="headerlink" title="面试题：对比下区别"></a>面试题：对比下区别</h1><h2 id="方式一："><a href="#方式一：" class="headerlink" title="方式一："></a>方式一：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">function f() &#123;</div><div class="line">var a=[];</div><div class="line">for (var i=0;i&lt;=4;i++) &#123;</div><div class="line">a[i]=(function (x) &#123;</div><div class="line">return x;</div><div class="line">&#125;)(i);</div><div class="line">&#125;</div><div class="line">return a;</div><div class="line">&#125;</div><div class="line">var result=f();</div><div class="line">alert(result[0]);</div><div class="line">alert(result[1]);</div><div class="line">alert(result[2]);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="方式二："><a href="#方式二：" class="headerlink" title="方式二："></a>方式二：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">function f() &#123;</div><div class="line">var a=[];</div><div class="line">for (var i=0;i&lt;=4;i++) &#123;</div><div class="line">a[i]=(function (x) &#123;</div><div class="line">return function  () &#123;</div><div class="line">return x;</div><div class="line">&#125;</div><div class="line">&#125;)(i);</div><div class="line">&#125;</div><div class="line">return a;</div><div class="line">&#125;</div><div class="line">var result=f();</div><div class="line">alert(result[0]());</div><div class="line">alert(result[1]());</div><div class="line">alert(result[2]());</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Js闭包/" data-id="cj60seebw001360nk0hcidzxt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java和node.js基于tcp通信" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/java和node.js基于tcp通信/" class="article-date">
  <time datetime="2017-08-06T13:22:10.513Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/java和node.js基于tcp通信/">java和node.js基于tcp通信</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="java和node-js基于tcp通信"><a href="#java和node-js基于tcp通信" class="headerlink" title="java和node.js基于tcp通信"></a>java和node.js基于tcp通信</h1><h2 id="案例说明：tcp发送数据给服务器并接收回返数据，关闭socket"><a href="#案例说明：tcp发送数据给服务器并接收回返数据，关闭socket" class="headerlink" title="案例说明：tcp发送数据给服务器并接收回返数据，关闭socket"></a>案例说明：tcp发送数据给服务器并接收回返数据，关闭socket</h2><blockquote>
<p>java代码部分</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">public class test &#123;</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">	//字符串缓冲流,StringBuffer必须这样初始化</div><div class="line">	//直接StringBuffer sBuffer；是无效的，会报空指针</div><div class="line">	StringBuffer sBuffer=new StringBuffer();</div><div class="line">	String sayString=&quot;我是客户端发送的数据&quot;;</div><div class="line">	Socket socket;</div><div class="line">	try &#123;</div><div class="line">		socket = new Socket();</div><div class="line">		//之所以不直接把ip端口号放到构造方法就是为了设置socket请求超时时间</div><div class="line">		  SocketAddress endpoint = new InetSocketAddress(&quot;192.168.0.27&quot;,3000);</div><div class="line">        socket.connect(endpoint, 4000);//设置连接服务器超时为4秒钟</div><div class="line">		//这个超时指的是，接收到输入流之后read耗费的超时时间</div><div class="line">		socket.setSoTimeout(1000);</div><div class="line">		//输出流</div><div class="line">		OutputStream osStream=socket.getOutputStream();</div><div class="line">		osStream.write(sayString.getBytes());</div><div class="line">		//输入流</div><div class="line">		InputStream isInputStream=socket.getInputStream();</div><div class="line">		//这只是一个包装流，直接使用InputStream也是一样的</div><div class="line">		DataInputStream dsStream=new DataInputStream(isInputStream);</div><div class="line">		int len=0;</div><div class="line">		byte[] by=new byte[1024];</div><div class="line">		while ((len=dsStream.read(by))!=-1) &#123;</div><div class="line">			String infoString=new String(by,0,len);</div><div class="line">			sBuffer.append(infoString);</div><div class="line">		&#125;</div><div class="line">		dsStream.close();</div><div class="line">		isInputStream.close();</div><div class="line">	&#125;catch (IOException e) &#123;</div><div class="line">		e.printStackTrace();</div><div class="line">	&#125;</div><div class="line">	System.out.println(sBuffer.toString());</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>node.js服务端部分</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">const net=require(&apos;net&apos;);</div><div class="line">net.createServer(function (socket) &#123;</div><div class="line">    console.log(&apos;端口：&apos;+socket.remotePort+&apos; 连接了服务器！&apos;);</div><div class="line">    socket.on(&apos;data&apos;,function (data) &#123;</div><div class="line">        console.log(&apos;client say:&apos;+data.toString(&apos;utf-8&apos;));</div><div class="line">        socket.write(&apos;服务器：&apos;+data);</div><div class="line">        socket.end();</div><div class="line">    &#125;);</div><div class="line">    socket.on(&apos;close&apos;,function() &#123;</div><div class="line">         console.log(&apos;端口：&apos;+socket.remotePort+&apos; 断开了服务器！&apos;);</div><div class="line">     &#125;);</div><div class="line">&#125;).listen(3000,&apos;192.168.0.27&apos;);</div></pre></td></tr></table></figure>
<blockquote>
<p>该日志意义所在，inputstream在通过while然后read返回－1在读取文件时候<br>是可行的，因为文件有结束标志，但是此时是server端返回的是没有结束标志的<br>而inputstream会因此而一直阻塞在此，但是我们需求是在接收完数据，while<br>之后，我们需要关闭socket通信，但是java代码这边因为阻塞，一直停留在<br>while的（）那不动，故而后面代码是无法执行的，也就是说即使后面关闭连接也<br>无效.但是此时在node.js之后添加一句socket.end();就会关闭此时端口<br>socket，而java代码部分，在此句之后，会接收到结束标志,也就是判断结果会<br>为－1从而执行后面关闭代码。</p>
</blockquote>
<h2 id="对比文件读取"><a href="#对比文件读取" class="headerlink" title="对比文件读取"></a>对比文件读取</h2><blockquote>
<p>java代码部分：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">//文件读取部分</div><div class="line">		StringBuffer sbBuffer=new StringBuffer();</div><div class="line">		BufferedReader brReader=null;</div><div class="line">		try &#123;</div><div class="line">			//类似的有FileWriter，注意FileWriter如果文件不存在会自动创建</div><div class="line">			FileReader frReader=new FileReader(&quot;b.txt&quot;);</div><div class="line">			//包装而已，为了高效，也可以直接使用FileReader</div><div class="line">			brReader=new BufferedReader(frReader);</div><div class="line">			int len=0;</div><div class="line">			char[] by=new char[1024];</div><div class="line">				while ((len=brReader.read(by))!=-1) &#123;</div><div class="line">					String info=new String(by,0,len);</div><div class="line">					sbBuffer.append(info);</div><div class="line">				&#125;</div><div class="line">		&#125; catch (IOException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;finally&#123;</div><div class="line">			//如果流为空关闭即可</div><div class="line">			if (brReader==null) &#123;</div><div class="line">				try &#123;</div><div class="line">					brReader.close();</div><div class="line">				&#125; catch (IOException e) &#123;</div><div class="line">					// TODO Auto-generated catch block</div><div class="line">					e.printStackTrace();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		System.out.println(sbBuffer.toString());</div></pre></td></tr></table></figure>
<blockquote>
<p>此代码是直接可以结束的，因为文件读取有结束标志</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/java和node.js基于tcp通信/" data-id="cj60seed7002a60nkqs8ay29o" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java查漏补缺（一）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Java查漏补缺（一）/" class="article-date">
  <time datetime="2017-08-06T13:22:10.511Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Java查漏补缺（一）/">Java查漏补缺（一）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<pre><code>Java不能少，隔三差五回头看看还是很有必要的，^_~
准备用几篇文章对java来个泛复习。
</code></pre><hr>
<h1 id="Java开始"><a href="#Java开始" class="headerlink" title="Java开始"></a><strong>Java开始</strong></h1><h2 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a><strong>第一部分</strong></h2><blockquote>
<ul>
<li>关键字都是小写</li>
<li>标识符：字母数字下划线，美元符号，不能用数字开头。</li>
<li>一个二进制位被称为位，bit.1字节byte=8bit。</li>
<li>二进制三位一组合形成八进制。</li>
<li>二进制四位一组合形成十进制。</li>
<li>二进制转八进制，十六进制，分别三位一组和，四位一组合计算出来十进制，拼接即可。</li>
<li>正数源码，反码补码都相同，几乎相当于二进制，只是最前面一位是符号位，（正数符号位为0，负数符号位1）。负数的反码，符号位不变，其他取反，0变1，1变0.补码，符号位不变，在反码基础上加1.</li>
<li>引用数据类型：类，接口，数组。</li>
<li>基本数据类型（数值型）：byte short int long,分别是1字节，2字节，4字节，8字节。float:4字节，double8字节。<br>还有char:2字节，boolean：1字节。</li>
<li>定义long=12748392834L必须加l或L。</li>
<li>浮点型默认是double类型，所以定义float=12.5f必须加f或F。</li>
<li>隐式转换：long虽然8字节，float是4字节，但是long会自动转换为float,因为float更精确，但是必须long的数字小于float才有效。</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">**笔试题：**</div><div class="line">byte a=3;</div><div class="line">byte b=4;</div><div class="line">byte c=a+b;</div></pre></td></tr></table></figure>
<hr>
<pre><code>解析：会报错，因为byte ,short ,int（但是不包括long）计算时候会自动转换成int在计算，所以此时相当于int复制给byte。但是byte c=3+4;不报错，因为对于常量，jvm会先计算常量计算结果在确定是否损失精度。
</code></pre><hr>
<blockquote>
</blockquote>
<ul>
<li>ascii码：’a’:97,’A’:65 ,’0’:48。</li>
<li>%：3%5=3;左边小于右边，值为左边，还有，如果有符号，不论什么情况下，都是值符号和左边数字一致。</li>
<li>String s=5+5+”hello”;结果：10hello</li>
<li>String s=”hello”+5+5;结果：hello55。之所以两种结果不同，是因为从左往右运算照成。对比：char a=’h’;</li>
<li>System.out.println(a+1);结果为105.区分char加数字和字符串加数字。</li>
<li>逻辑异或^:两边相同为假，不同为真。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Scanner scanner=new Scanner(System.in);</div><div class="line">int number=scanner.nextInt();</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>switch中default可以放在任何位置，但是它是最后执行的，放在最后其break可以省略，但是放在前面时候不行，因为会紧接着不经过判断执行下一个紧挨着的，直到遇到下一个break才会停止。</li>
<li>标号结束循环,可以使用break或者continue退出多层循环。</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">wc:for (int i = 0; i &lt; 4; i++) &#123;</div><div class="line">			for (int j = 0; j &lt; 3; j++) &#123;</div><div class="line">				System.out.println(&quot;*&quot;);</div><div class="line">				break wc;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	另外注意，break和continue在非循环判断最好别使用，因为如下是错误的，会报错：</div><div class="line">	if(x&gt;2)&#123;</div><div class="line">		x=3;</div><div class="line">		break;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h2 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a><strong>第二部分</strong></h2><blockquote>
<ul>
<li>函数结束是到return结束，而不是大括号结束。</li>
<li>函数案例：<br>  public static int maxM(int a,int b) {<pre><code>return a&gt;b?a:b;
</code></pre>  }<br>  注意形式参数必须有类型，为了能被调用最好是static。</li>
<li>函数重载:函数名相同，参数列表不同（个数或类型不同）,与返回值无关。方法重载是让类以统一的方式处理不同类型数据的一种手段。多个同名函数同时存在，具有不同的参数个数/类型。<br>如果不是重载方法，同一类中不能存在函数名相同的函数（方法）。</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public static void name(String name) &#123;</div><div class="line">	System.out.println(name);</div><div class="line">&#125;</div><div class="line">public static void name(String name,int number) &#123;</div><div class="line">	System.out.println(name+&quot;.....&quot;+number);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>定义数组（引用类型：放在堆里面（new出来的），堆内存使用完毕不会立即回收，java虚拟机会在不确定时间回收，效率低，都有内存地址，都有默认值。而基本类型放在栈里,栈里面的存储局部变量，使用完毕会被回收，效率高）</li>
<li>方式一、int[] arr=new int[5];</li>
<li>变形：int arr[]=new int[5];</li>
<li>方式二、int[] arr={1，2，3，4};</li>
<li>方式三、int[] arr=new int[5]{};</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">案例：int[] arr=&#123;&#125;;</div><div class="line">int[] arr=new int[5];</div><div class="line">System.out.println(arr[0]);</div><div class="line">第一个格式错误报错，第二个有默认值，会输出0.</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>二维数组<br>  -定义方式一、int[][] arr=new int[2][3];<br>  -定义方式二、int[][] arr=new int[2][];</li>
<li>基本类型：形式参数值的改变对实际参数无影响。<br>引用类型：形式参数的改变直接影响实际参数。<br>注解：引用类型，赋给的是地址，所以改变就改变了，来自于同一个堆内存的的同一个区域。<br>基本类型，都是在栈内存开辟新的，对于原来无影响。</li>
<li>属性：成员变量，类中方法外的变量。<br>行为：成员方法<br>成员变量和局部变量区别：<br>成员变量随对象存在而存在，对象不存在也消失<br>成员变量因为在另一个类使用时，也是先new出来其所在对象，所以即使成员变量<br>是类似于String这种类型，也是在堆内存中，所以都有初始值。<br>局部变量：方法中，或方法形式参数。<br>局部变量没有默认值，存储在栈中，随着方法而存在消失。</li>
<li>匿名对象：<br>一、当对方法只进行一次调用时候使用。<br>二、作为实际参数进行传递时候使用。</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"> ①public class three &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//匿名对象</div><div class="line">		new Student().name();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line">class Student&#123;</div><div class="line">	String name;</div><div class="line">	int age;</div><div class="line">	public void name() &#123;</div><div class="line">		System.out.println(&quot;名字是：&quot;+name);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">②public class three &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		// TODO Auto-generated method stub</div><div class="line">		Student student=new Student();</div><div class="line">		//匿名对象只调用一次时使用。同时包括作为实际参数传递时候使用。</div><div class="line">		new Test().show(student);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line">class Student&#123;</div><div class="line">	String name;</div><div class="line">	int age;</div><div class="line">	public void name() &#123;</div><div class="line">		System.out.println(&quot;名字是：&quot;+name);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">class Test&#123;</div><div class="line">	public void show(Student s) &#123;</div><div class="line">		s.name=&quot;哈哈&quot;;</div><div class="line">		s.name();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Java查漏补缺（一）/" data-id="cj60seeb7000p60nkpp5u0f6m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java查漏补缺（五）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Java查漏补缺（五）/" class="article-date">
  <time datetime="2017-08-06T13:22:10.510Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Java查漏补缺（五）/">Java查漏补缺（五）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Java开始"><a href="#Java开始" class="headerlink" title="Java开始"></a>Java开始</h1><hr>
<pre><code>书接上文，继续开始啦！^_+
</code></pre><hr>
<h2 id="第十一部分"><a href="#第十一部分" class="headerlink" title="第十一部分"></a><strong>第十一部分</strong></h2><h3 id="递归：方法调用方法本身"><a href="#递归：方法调用方法本身" class="headerlink" title="递归：方法调用方法本身"></a>递归：方法调用方法本身</h3><blockquote>
<p>构造方法不能递归调用。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">public class Demo20 &#123;</div><div class="line">    private static int sum=0;</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        add(10);</div><div class="line">        System.out.println(sum);</div><div class="line">    &#125;</div><div class="line">    public static void add(int n) &#123;</div><div class="line">        if (n&gt;0) &#123;</div><div class="line">            sum+=n;</div><div class="line">            add(n-1);</div><div class="line">        &#125; else &#123;</div><div class="line">            System.out.println(&quot;结束了&quot;);</div><div class="line">        &#125;</div><div class="line">    &#125;c</div><div class="line">&#125;</div><div class="line">输出：结束了，55.</div></pre></td></tr></table></figure>
<blockquote>
<p>重要案例：裴波那挈数列，1，1，2，3，5，8…..</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">public class Demo20 &#123;</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        System.out.println(add(20));</div><div class="line">    &#125;</div><div class="line">    //1，1，2，3，5，8</div><div class="line">    public static int add(int n) &#123;</div><div class="line">        if (n==1) &#123;</div><div class="line">            return 1;</div><div class="line">        &#125; else if(n==2) &#123;</div><div class="line">            return 1;</div><div class="line">        &#125;else&#123;</div><div class="line">            return add(n-1)+add(n-2);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="IO操作"><a href="#IO操作" class="headerlink" title="IO操作"></a>IO操作</h3><hr>
<pre><code>IO流：分为字节流（字节输入输出流），字符流（字符输入输出流）
都是相对java代码来说明是输入还是输出
下面四个都是基本流
字节输入流：读取数据 InputStream
字节输出流：写入数据 OutputStream
字符输入流：读取数据 Reader
字符输出流：写入数据 Writer
Writer是接口，需要使用子类对象实例化，或者多态。
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">案例：</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">    //FileWriter底层有自动创建文件的操作。</div><div class="line">    //FileWriter fw=new FileWriter(&quot;a.txt&quot;,true);//这是追加写入，不写默认false</div><div class="line">        FileWriter fw=new FileWriter(&quot;a.txt&quot;);//此种方式会覆盖上一次写的。</div><div class="line">        fw.write(&quot;我是写入的字符\n&quot;);//换行操作，windows记事本要写\r\n.</div><div class="line">        //按理说上面两步就是写入成功了，但是，因为文件都是以字节存数据</div><div class="line">        //但是此时是字符（2字节）操作，所以需要借助缓冲区，必须刷新缓冲区才有效</div><div class="line">        fw.write(&quot;我还行啦&quot;);</div><div class="line">        fw.flush();</div><div class="line">        //操作完成必须关闭流</div><div class="line">        fw.close();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：flush和close区别。<br>都可以刷新缓冲区，但是close刷洗之后，流也关闭了不可继续使用，但是flush还可以使用。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">方式一、</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        FileReader fw=new FileReader(&quot;笔记10.txt&quot;);</div><div class="line">        char[] chs=new char[1024];</div><div class="line">        int len=fw.read(chs);//将字符读入数组。</div><div class="line">        while (len!=-1) &#123;</div><div class="line">            System.out.println(new String(chs,0,len));</div><div class="line">            len=fw.read(chs);//此句如果不写，会陷入死循环，而且每次读取的都是最开始的1024字节内容。</div><div class="line">        &#125;</div><div class="line">        fw.close();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">方式二、</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        FileReader fw=new FileReader(&quot;笔记10.txt&quot;);</div><div class="line">        char[] chs=new char[1024];//定义一个长度为1024的数组</div><div class="line">        int len=0;</div><div class="line">        while ((len=fw.read(chs))!=-1) &#123;//read读取传入长度1024数组，指的是读取一次读取这么长度的内容</div><div class="line">            //并且每次读取的内容存储在chs字符数组中</div><div class="line">            //而且每次读取之后，下一次从上一次读取末尾继续开始读取。</div><div class="line">            System.out.println(new String(chs,0,len));</div><div class="line">//new String是把字符数组转换为字符串，加上0，len，是截取，也是为了在第一次读取时候，长度不够1024时候也不出错。。</div><div class="line">        &#125;</div><div class="line">        fw.close();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="3-字节流"><a href="#3-字节流" class="headerlink" title="3.字节流"></a>3.字节流</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">写数据：</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        //此句也会在文件不纯在时候自动创建文件，因为和读不一样，写必须有接收方</div><div class="line">        FileOutputStream fos=new FileOutputStream(&quot;a.txt&quot;);</div><div class="line">        byte[] by=&#123;98,99,100,&apos;b&apos;&#125;;//写入的是bcdb，‘b&apos;会自动转换成对应数字，存储时候，自动转回来，都以字幕存储。</div><div class="line">        byte[] by1=&quot;abcd&quot;.getBytes();//字符串转换成字符数组</div><div class="line">        fos.write(by,1,3);//从1开始，写三个</div><div class="line">        fos.close();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">读数据：</div><div class="line">FileInputStream fis=new FileInputStream(&quot;a.txt&quot;);</div><div class="line">        byte[] bys=new byte[1024];//对应的是字节，用byte</div><div class="line">        int len=0;</div><div class="line">        while ((len=fis.read(bys))!=-1) &#123;</div><div class="line">            System.out.println(new String(bys,0,len));</div><div class="line">        &#125;</div><div class="line">        fis.close();</div></pre></td></tr></table></figure>
<h3 id="4-缓冲流：高效的带缓冲区的流-可以指定缓冲区大小，不写也有默认值"><a href="#4-缓冲流：高效的带缓冲区的流-可以指定缓冲区大小，不写也有默认值" class="headerlink" title="4.缓冲流：高效的带缓冲区的流,可以指定缓冲区大小，不写也有默认值"></a>4.缓冲流：高效的带缓冲区的流,可以指定缓冲区大小，不写也有默认值</h3><hr>
<pre><code>缓冲流属于高级流，本身没有读写功能，必须依靠其他实现读写，本身只提供高效的缓冲，提高读写效率
缓冲流参数只能接收字符流，不能接收字节流
BufferedReader
BufferedWriter
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">案例：</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        FileReader fr=new FileReader(&quot;笔记10.txt&quot;);</div><div class="line">        BufferedReader br=new BufferedReader(fr);</div><div class="line">        char[] bys=new char[1024];//对应的是字符，用char</div><div class="line">        int len=0;</div><div class="line">        while ((len=br.read(bys))!=-1) &#123;</div><div class="line">            System.out.print(new String(bys,0,len));</div><div class="line">        &#125;</div><div class="line">        br.close();//应为是高级流，本身读取操作是用的fr的，所以，br关闭，fr就关闭了。</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">案例1：</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        FileReader fr=new FileReader(&quot;笔记10.txt&quot;);</div><div class="line">        BufferedReader br=new BufferedReader(fr);</div><div class="line">        String result=null;</div><div class="line">        while ((result=br.readLine())!=null) &#123;</div><div class="line">            System.out.println(result);//注意此处要加ln换行，不然，因为虽然</div><div class="line">            //readLine读取是一整行内容，但是只读取内容，不包括换行符。</div><div class="line">        &#125;</div><div class="line">        br.close();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>补充：BufferedWriter有newLine()方法：根据平台自动加入换行符。</p>
</blockquote>
<h2 id="第十二部分"><a href="#第十二部分" class="headerlink" title="第十二部分"></a><strong>第十二部分</strong></h2><h3 id="1-多线程实现方式"><a href="#1-多线程实现方式" class="headerlink" title="1.多线程实现方式"></a>1.多线程实现方式</h3><blockquote>
<p>A：方式一、</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">步骤：1.类继承Thread，重写run方法</div><div class="line">public class MyThread extends Thread&#123;</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        super.run();</div><div class="line">        for (int i = 0; i &lt; 200; i++) &#123;</div><div class="line">            System.out.println(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//注意：run内部的才算运行在子线程，该类其他方法不算。</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">步骤2：</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        MyThread m1=new MyThread();</div><div class="line">        m1.start();//先开启该线程，然后调用run方法。</div><div class="line">//        m1.run();这种只是普通调用，没有开启线程，不会用多线程效果</div><div class="line">        MyThread m2=new MyThread();</div><div class="line">        m2.start();</div><div class="line">        //如上new两次，而后start可以启动多线程</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>B：方式二：实现Runnable接口，重写run方法。</p>
</blockquote>
<hr>
<pre><code>补充：并行：同一时间段cpu执行的线程。并发：同一时间点cpu执行的线程。
获取不是Thread子类的类的线程名称：Thread.currentThread().getName();
如果是Thread子类，直接用getname()即可。
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">案例：</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">注意初始化，是把实现Runnable接口的类对象作为参数传入</div><div class="line">        MyThread m=new MyThread();</div><div class="line">        Thread t1=new Thread(m);</div><div class="line">        Thread t2=new Thread(m);</div><div class="line">//        Thread t2=new Thread(m,&quot;嘿嘿&quot;);</div><div class="line">        t1.setName(&quot;呵呵&quot;);</div><div class="line">        t2.setName(&quot;嘿嘿&quot;);</div><div class="line">        t1.start();</div><div class="line">        t2.start();</div><div class="line">    &#125;</div><div class="line">    ——————————————————————————————</div><div class="line">    public class MyThread implements Runnable&#123;</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        for (int i = 0; i &lt; 200; i++) &#123;</div><div class="line">            System.out.println(i+Thread.currentThread().getName());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">补充：方式二：避免了单继承的局限性，而且体现了面向对象的思想。</div></pre></td></tr></table></figure>
<h3 id="2-线程调度："><a href="#2-线程调度：" class="headerlink" title="2.线程调度："></a>2.线程调度：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">    public static void main(String[] args) throws IOException &#123;</div><div class="line">        MyThread m1=new MyThread();</div><div class="line">        m1.start();</div><div class="line">        m1.setName(&quot;强哥&quot;);//设置线程名称</div><div class="line">        m1.setPriority(1);//设置线程优先级，java是抢占式调度，故而依靠线程优先级</div><div class="line">        //优先级高的，获取cpu几率多，但是不是绝对的，要多次运行，才能得出普遍结论</div><div class="line">        MyThread m2=new MyThread();</div><div class="line">        m2.start();</div><div class="line">        m2.setName(&quot;曾哥&quot;);</div><div class="line">        m2.setPriority(10);</div><div class="line">//线程优先级默认5，可以取范围1-10.        </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>线程睡眠：Thread.sleep(1000);//参数是毫秒值<br>线程加入：必须等到加入的额线程执行完毕，才执行其他线程</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        MyThread m1=new MyThread();</div><div class="line">        MyThread m2=new MyThread();</div><div class="line">        m1.setName(&quot;强哥&quot;);</div><div class="line">        m2.setName(&quot;曾哥&quot;);</div><div class="line">        //注意：先设置县城名字，不然设置无效，而后m1启动，加入m1，最后在启动m2不然达不到效果。</div><div class="line">        m1.start();</div><div class="line">        try &#123;</div><div class="line">            m1.join();</div><div class="line">        &#125; catch (InterruptedException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        m2.start();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>线程礼让：让线程执行更接近于你一次我i次，但是不能百分百保证。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public class MyThread extends Thread&#123;</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        super.run();</div><div class="line">        for (int i = 0; i &lt; 200; i++) &#123;</div><div class="line">            System.out.println(i+getName());</div><div class="line">//            Thread.sleep(1000);线程睡眠</div><div class="line">            Thread.yield();//线程礼让</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>线程守护：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        MyThread m1=new MyThread();</div><div class="line">        MyThread m2=new MyThread();</div><div class="line">        m1.setName(&quot;强哥&quot;);</div><div class="line">        m2.setName(&quot;曾哥&quot;);</div><div class="line">        //设置守护线程，必须在启动前调用，假如还有一个线程，曾强哥，但是只循环3次</div><div class="line">        //则给上面俩加守护线程，则，在第三个曾强哥死掉的时候，这俩也会死掉，例如坦克大战</div><div class="line">        //如果老巢被攻破。坦克直接挂掉。</div><div class="line">        m1.setDaemon(true);</div><div class="line">        m2.setDaemon(true);</div><div class="line">        m1.start();</div><div class="line">        m2.start();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>线程中断：此案例不会停止10秒，在3秒后就会直接中断。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        MyThread m1=new MyThread();</div><div class="line">        m1.setName(&quot;强哥&quot;);</div><div class="line">        m1.start();</div><div class="line">        try &#123;</div><div class="line">            Thread.sleep(3000);</div><div class="line">            m1.interrupt();</div><div class="line">        &#125; catch (InterruptedException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    ——————————————————————————————————</div><div class="line">    public class MyThread extends Thread&#123;</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        super.run();</div><div class="line">        System.out.println(&quot;开始执行：&quot;+System.currentTimeMillis());</div><div class="line">        try &#123;</div><div class="line">            Thread.sleep(10000);</div><div class="line">        &#125; catch (InterruptedException e) &#123;</div><div class="line">            System.out.println(&quot;三秒出来&quot;);</div><div class="line">        &#125;</div><div class="line">        System.out.println(&quot;停止执行：&quot;+System.currentTimeMillis());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<pre><code>线程生命周期：
新建：创建线程对象
就绪：有执行资格，没有执行权
运行：有执行资格和执行权
     阻塞：但是运行中可能出现意外，没有执行资格，没有执行权
     但是激活后，就处于就绪状态
 死亡：线程对象变成垃圾，等待被回收。
</code></pre><hr>
<h3 id="3-两种卖票案例对比"><a href="#3-两种卖票案例对比" class="headerlink" title="3.两种卖票案例对比"></a>3.两种卖票案例对比</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">public class MyThread implements Runnable&#123;</div><div class="line">    private int piao=100;</div><div class="line">    private boolean blog=true;</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        while (blog) &#123;</div><div class="line">            if (piao&gt;0) &#123;</div><div class="line">                System.out.println(Thread.currentThread().getName()+piao--);</div><div class="line">            &#125;else &#123;</div><div class="line">                blog=false;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">_____________________________</div><div class="line">public class Demo &#123;</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        MyThread m=new MyThread();</div><div class="line">        Thread t1=new Thread(m);</div><div class="line">        Thread t2=new Thread(m);</div><div class="line">        t1.setName(&quot;呵呵&quot;);</div><div class="line">        t2.setName(&quot;嘿嘿&quot;);</div><div class="line">        t1.start();</div><div class="line">        t2.start();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<pre><code>不写第一种方案：因为这种公用一个资源的方案是不可行的，new两次，相当于两个piao变量，即使把piao定义为static也不可行。
但是现在这种是可行的，只new一次。
</code></pre><hr>
<h3 id="4-线程同步-多个线程必须同一把锁。"><a href="#4-线程同步-多个线程必须同一把锁。" class="headerlink" title="4.线程同步:多个线程必须同一把锁。"></a>4.线程同步:多个线程必须同一把锁。</h3><blockquote>
<p>上面案例：如果在卖票之前，就可以睡眠一下。这样上面代码会出错。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">public class MyThread implements Runnable&#123;</div><div class="line">    private int piao=100;</div><div class="line">    private boolean blog=true;</div><div class="line">    //新建一个对象作为锁，对象可以随意，但是要保证是同一把锁。</div><div class="line">    //如果在下面》》部分改为new Object()会出错，因为这样就相当于每次都新建对象，是不同锁。</div><div class="line">    private Object object=new Object();</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        while (blog) &#123;</div><div class="line">            synchronized (object) &#123;》》改为new Object()会出错</div><div class="line">                if (piao&gt;0) &#123;</div><div class="line">                    try &#123;</div><div class="line">                        Thread.sleep(1000);</div><div class="line">                    &#125; catch (InterruptedException e) &#123;</div><div class="line">                        // TODO Auto-generated catch block</div><div class="line">                        e.printStackTrace();</div><div class="line">                    &#125;</div><div class="line">                    System.out.println(Thread.currentThread().getName()+piao--);</div><div class="line">                &#125;else &#123;</div><div class="line">                    blog=false;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">——————————————————————————————</div><div class="line">public  static void main(String[] args) &#123;</div><div class="line">        MyThread m=new MyThread();</div><div class="line">        Thread t1=new Thread(m);</div><div class="line">        Thread t2=new Thread(m);</div><div class="line">        t1.setName(&quot;呵呵&quot;);</div><div class="line">        t2.setName(&quot;嘿嘿&quot;);</div><div class="line">        t1.start();</div><div class="line">        t2.start();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>补充：同步方法，很简单</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">案例：</div><div class="line">public synchronized void method()&#123;//或者放在public/private之前也可</div><div class="line">try &#123;</div><div class="line">    Thread.sleep(1000);</div><div class="line">    &#125; catch (InterruptedException e) &#123;</div><div class="line">        / TODO Auto-generated catch block</div><div class="line">        e.printStackTrace();</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>补充：同步方法的锁对象是什么呢？this.<br>但是静态方法的锁不是this，因为静态方法随类加载而加载，不存在this，是当前类class.<br>例如：MyThread.class.<br>线程安全类:StringBuffer,Vector,Hashtable.<br>但是线程不安全类可以转换成安全类：Collections.synchronizedList。<br>List list2=(List) Collections.synchronizedList(new ArrayList<string>());//这样就线程安全了。<br>所以不会在使用Vector了。<br>还有Collections.synchronizedMap等等。。。。。</string></p>
</blockquote>
<h2 id="第十三部分"><a href="#第十三部分" class="headerlink" title="第十三部分"></a><strong>第十三部分</strong></h2><h3 id="1-lock接口的锁，这种和前面的几乎等效，但是更新api是接口所以实现子类"><a href="#1-lock接口的锁，这种和前面的几乎等效，但是更新api是接口所以实现子类" class="headerlink" title="1.lock接口的锁，这种和前面的几乎等效，但是更新api是接口所以实现子类"></a>1.lock接口的锁，这种和前面的几乎等效，但是更新api是接口所以实现子类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">案例：</div><div class="line">public class MyThread implements Runnable&#123;</div><div class="line">    private int tickets=100;</div><div class="line">    private Lock lock=new ReentrantLock();</div><div class="line">    @Override</div><div class="line">    public void run() &#123;</div><div class="line">        while (true) &#123;</div><div class="line">            try &#123;</div><div class="line">                //加锁</div><div class="line">                lock.lock();</div><div class="line">                if (tickets&gt;0) &#123;</div><div class="line">                    try &#123;</div><div class="line">                        Thread.sleep(100);</div><div class="line">                    &#125; catch (InterruptedException e) &#123;</div><div class="line">                        // TODO Auto-generated catch block</div><div class="line">                        e.printStackTrace();</div><div class="line">                    &#125;</div><div class="line">                    System.out.println(Thread.currentThread().getName()+tickets--);</div><div class="line">                &#125;</div><div class="line">            &#125; finally &#123;</div><div class="line">                //为了防止上面代码出错，而后无法执行到释放锁，所以释放锁放在此处</div><div class="line">                lock.unlock();//释放锁</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">        MyThread mt=new MyThread();</div><div class="line">        Thread t1=new Thread(mt);</div><div class="line">        Thread t2=new Thread(mt);</div><div class="line">        t1.setName(&quot;呵呵&quot;);</div><div class="line">        t2.setName(&quot;嘿嘿&quot;);</div><div class="line">        t1.start();</div><div class="line">        t2.start();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="2-设计模式-是一种思想，是一种经验的总结"><a href="#2-设计模式-是一种思想，是一种经验的总结" class="headerlink" title="2.设计模式:是一种思想，是一种经验的总结"></a>2.设计模式:是一种思想，是一种经验的总结</h3><h4 id="2-1：简单工厂模式-静态工程模式"><a href="#2-1：简单工厂模式-静态工程模式" class="headerlink" title="2.1：简单工厂模式,静态工程模式"></a>2.1：简单工厂模式,静态工程模式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">_________________________________</div><div class="line">public abstract class Animal &#123;</div><div class="line">    public abstract void show();</div><div class="line">&#125;</div><div class="line">__________________________________</div><div class="line">public class Dog extends Animal &#123;</div><div class="line">    @Override</div><div class="line">    public void show() &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        System.out.println(&quot;狗吃肉&quot;);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div><div class="line">public class Cat extends Animal &#123;</div><div class="line">    @Override</div><div class="line">    public void show() &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        System.out.println(&quot;猫吃鱼&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">__________________________________________</div><div class="line">public class AniamlFactory &#123;</div><div class="line">    public Animal create(String type) &#123;</div><div class="line">        if (&quot;dog&quot;.equals(type)) &#123;</div><div class="line">            return new Dog();</div><div class="line">        &#125; else if (&quot;cat&quot;.equals(type)) &#123;</div><div class="line">            return new Cat();</div><div class="line">        &#125;else&#123;</div><div class="line">            return null;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">____________________________________________</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">        AniamlFactory af=new AniamlFactory();</div><div class="line">        Animal animal1=af.create(&quot;dog&quot;);</div><div class="line">        Animal animal2=af.create(&quot;cat&quot;);</div><div class="line">        animal1.show();</div><div class="line">        animal2.show();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h4 id="2-2工厂方法模式"><a href="#2-2工厂方法模式" class="headerlink" title="2.2工厂方法模式"></a>2.2工厂方法模式</h4><blockquote>
<p>虽然解耦和，但是每次新建一个动物，都要新建一个对应动物类和工厂，工作量大。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">public abstract class Animal &#123;</div><div class="line">    public abstract void show() ;</div><div class="line">&#125;</div><div class="line">public class Dog extends Animal &#123;</div><div class="line">    @Override</div><div class="line">    public void show() &#123;</div><div class="line">        System.out.println(&quot;狗吃肉&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">public interface Factory &#123;</div><div class="line">    public abstract Animal create();</div><div class="line">&#125;</div><div class="line">public class DogFactory implements Factory &#123;</div><div class="line">    @Override</div><div class="line">    public Animal create() &#123;</div><div class="line">        return new Dog();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">        DogFactory df=new DogFactory();</div><div class="line">        df.create().show();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h4 id="2-3-单例设计模式：该类内存中只能有一个对象，必须自动创建，并对外提供。"><a href="#2-3-单例设计模式：该类内存中只能有一个对象，必须自动创建，并对外提供。" class="headerlink" title="2.3:单例设计模式：该类内存中只能有一个对象，必须自动创建，并对外提供。"></a>2.3:单例设计模式：该类内存中只能有一个对象，必须自动创建，并对外提供。</h4><hr>
<pre><code>补充：如何保证内存中只有一个对象？
A:把构造方法私有
B：在成员位置创建一个对象
C:通过一个公共方法提供访问
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">案例：饿汉式，一进来就在成员中造对象。开发中使用，不会出问题</div><div class="line">public class Student &#123;</div><div class="line">    //1.私有构造方法，避免外部创建对象</div><div class="line">    private Student()&#123;&#125;;</div><div class="line">    //2.成员中创建对象,但是为了避免外部直接修改s值，需要私有,静态是因为下面方法静态。</div><div class="line">    private static Student s=new Student();</div><div class="line">    //3.提供对外访问</div><div class="line">    public static Student get() &#123;</div><div class="line">        return s;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">        Student s=Student.get();</div><div class="line">        Student s1=Student.get();</div><div class="line">        System.out.println(s==s1);//true</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">案例：懒汉式，用的时候才创建对象,面试时使用，可能出问题</div><div class="line">public class Student &#123;</div><div class="line">    private Student()&#123;&#125;;</div><div class="line">    private static Student s=null;</div><div class="line">    public static Student get() &#123;</div><div class="line">        if (s==null) &#123;</div><div class="line">            s=new Student();</div><div class="line">        &#125;</div><div class="line">        return s;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">        Student s=Student.get();</div><div class="line">        Student s1=Student.get();</div><div class="line">        System.out.println(s==s1);//true</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="第十四部分"><a href="#第十四部分" class="headerlink" title="第十四部分"></a><strong>第十四部分</strong></h2><h3 id="一-网络编程"><a href="#一-网络编程" class="headerlink" title="一.网络编程"></a>一.网络编程</h3><h4 id="1-网络三要素："><a href="#1-网络三要素：" class="headerlink" title="1.网络三要素："></a>1.网络三要素：</h4><hr>
<pre><code>A：IP地址（每台计算机在网络中的唯一标识）
B：端口(分区电脑每一个程序)
C:协议（例如说话规则，英语还是汉语）    
</code></pre><hr>
<h4 id="2-InetAddress类：两种Inet4Address和Inet6Address"><a href="#2-InetAddress类：两种Inet4Address和Inet6Address" class="headerlink" title="2.InetAddress类：两种Inet4Address和Inet6Address."></a>2.InetAddress类：两种Inet4Address和Inet6Address.</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">基本使用：</div><div class="line">public static void main(String[] args) throws UnknownHostException &#123;</div><div class="line">        // 根据ip地址或则主机名（liuyi），获取IP对象</div><div class="line">        Inet4Address i4=(Inet4Address) Inet4Address.getByName(&quot;192.168.42.1&quot;);</div><div class="line">        //获取主机名</div><div class="line">        String name=i4.getHostName();</div><div class="line">        //获取主机地址（IP）</div><div class="line">        String address=i4.getHostAddress();</div><div class="line">        System.out.println(name+&quot;...........&quot;+address);</div><div class="line">        //输出：zengqiang...........192.168.42.1</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="3-协议两种"><a href="#3-协议两种" class="headerlink" title="3.协议两种"></a>3.协议两种</h4><hr>
<pre><code>UDP:无连接，数据打包限制64K，速度快，不可靠。
TCP：有链接（建立连接通道），数据无限制，速度慢，可靠。也叫三次握手协议。
Socket：套接字编程，网络编程。
Socket:包含，IP地址和端口。
通信过程：通信两端都有Socket，网络通信其实是socket的通信，
数据在两个socket间在某种协议下通过IO传输。
</code></pre><hr>
<h4 id="4-UDP协议"><a href="#4-UDP协议" class="headerlink" title="4.UDP协议"></a>4.UDP协议</h4><blockquote>
<p>发送和接受数据，键盘录入案例。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        // 创建接收端</div><div class="line">        //1.创建socket对象</div><div class="line">        DatagramSocket ds=new DatagramSocket(10086);//10086对应发送端发送到哪个端口。</div><div class="line">        while (true) &#123;</div><div class="line">            //2.创建包</div><div class="line">            byte[] bys=new byte[1024];</div><div class="line">            DatagramPacket dp=new DatagramPacket(bys, bys.length);</div><div class="line">            //3.接收数据，并解析</div><div class="line">            ds.receive(dp);</div><div class="line">            byte[] bys2=dp.getData();//得到缓冲区数据</div><div class="line">            Inet4Address i4=(Inet4Address) dp.getAddress();</div><div class="line">            String name=i4.getHostName();</div><div class="line">            String string=new String(bys2, 0, bys2.length);</div><div class="line">            System.out.println(name+&quot;发送的数据是：&quot;+string);</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        </div><div class="line">//        ds.close();//释放资源，这行注释，因为接收端要一直开着</div><div class="line">    &#125;</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">        // 发送端</div><div class="line">        //1.创建socket对象</div><div class="line">        DatagramSocket ds=new DatagramSocket();</div><div class="line">        Scanner sn=new Scanner(System.in);</div><div class="line">        String string=null;</div><div class="line">        while ((string=sn.next())!=null) &#123;</div><div class="line">            if (string.equals(&quot;886&quot;)) &#123;</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            //2.创建包</div><div class="line">            byte[] bys=string.getBytes();</div><div class="line">            Inet4Address i4=(Inet4Address) Inet4Address.getByName(&quot;192.168.42.1&quot;);</div><div class="line">            int port=10086;//端口号</div><div class="line">            DatagramPacket dp=new DatagramPacket(bys, bys.length,i4,port);</div><div class="line">            //3.发送和关闭</div><div class="line">            ds.send(dp);</div><div class="line">        &#125;</div><div class="line">        ds.close();</div><div class="line">    &#125;</div><div class="line">    如果实现同一窗口，即接收又发送，利用多线程即可。</div></pre></td></tr></table></figure>
<h4 id="5-TCP协议"><a href="#5-TCP协议" class="headerlink" title="5.TCP协议"></a>5.TCP协议</h4><pre><code>案例：注意没有发送哪一步骤，只有监听。
public static void main(String[] args) throws IOException {
        // 服务器端
        //1.获取服务器端对象
        ServerSocket ss=new ServerSocket(10086);
        //2.阻塞式方法，一直等待监听链接，并返回socket对象
        Socket s=ss.accept();
        //3.得到发送过来的流
        InputStream is=s.getInputStream();
        byte[] bys=new byte[1024];
        int len=is.read(bys);
        String string=new String(bys, 0, len);
        System.out.println(string);
        s.close();
//        ss.close();因为是服务器端，所以此处不应该关闭，没听过服务器关闭的。
    }
public static void main(String[] args) throws IOException {
        // 发送端
        //1.创建对象
        Socket s=new Socket(&quot;192.168.42.1&quot;, 10086);
        //2.获取输出流，写数据
        OutputStream os=s.getOutputStream();
        os.write(&quot;哈哈哈，我是发送的数据哦！&quot;.getBytes());
        //3.释放资源
        os.close();
    }
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Java查漏补缺（五）/" data-id="cj60seebj000w60nkuhieupou" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java查漏补缺（四）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/06/Java查漏补缺（四）/" class="article-date">
  <time datetime="2017-08-06T13:22:10.508Z" itemprop="datePublished">2017-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/06/Java查漏补缺（四）/">Java查漏补缺（四）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Java开始"><a href="#Java开始" class="headerlink" title="Java开始"></a>Java开始</h1><hr>
<pre><code>书接上文，继续开始啦！^_+
</code></pre><hr>
<h2 id="第八部分"><a href="#第八部分" class="headerlink" title="第八部分"></a><strong>第八部分</strong></h2><ul>
<li><strong>Date类：util包下面的这个</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        Date d1=new Date();</div><div class="line">        System.out.println(d1);//Thu Nov 24 09:19:16 CST 2016</div><div class="line">        long d1time=System.currentTimeMillis();</div><div class="line">        System.out.println(d1time);</div><div class="line">		//获取距离1970年那个毫秒值1479950356625</div><div class="line">        System.out.println(&quot;..........................&quot;);</div><div class="line">        Date d2=new Date(1479950356625L);</div><div class="line">        System.out.println(d2);</div><div class="line">		//获取的是根据1479950356625L（注意是long类型）对应的时间。</div><div class="line">        成员方法：</div><div class="line">        d1.getTime();</div><div class="line">		//效果等同于System.currentTimeMillis()</div><div class="line">        d1.setTime(time);</div><div class="line">		//效果等同于Date d2=new Date(1479950356625L);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<ul>
<li><p><strong>DateFormat:日期》》文本（字符串）</strong><br>但是其没有构造方法，要使用其子类：SimpleDateFormat.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Date date=new Date();</div><div class="line">      SimpleDateFormat sdf=new SimpleDateFormat();</div><div class="line">      String date2=sdf.format(date);</div><div class="line">      System.out.println(date2);</div><div class="line">//16-11-24 上午9:32</div><div class="line">      //字符串格式到date格式》》》parse（）。</div><div class="line">      Date date3=sdf.parse(date2);</div><div class="line">      System.out.println(date3);</div><div class="line">//Thu Nov 24 09:34:00 CST 2016</div></pre></td></tr></table></figure>
</li>
<li><p>对象数组：但是数组存对象必须开始数量就是固定的。例如Person[] pp=new Person[3];但是如果数量不确定时候，集合 就是很好的选择。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) throws ParseException &#123;</div><div class="line">        //对象数组</div><div class="line">        Person[] pp=new Person[3];//注意此处写法。</div><div class="line">        Person p=new Person(&quot;哈哈&quot;, 12);</div><div class="line">        Person p1=new Person(&quot;哈哈1&quot;, 13);</div><div class="line">        Person p2=new Person(&quot;哈哈2&quot;, 14);</div><div class="line">        pp[0]=p;</div><div class="line">        pp[1]=p1;</div><div class="line">        pp[2]=p2;</div><div class="line">        for (int i = 0; i &lt; pp.length; i++) &#123;</div><div class="line">            System.out.println(pp[i].getAge()+&quot;.....&quot;+pp[i].getName());</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>集合:可以看作一组对象</strong><br>Collection:分为List和Set两种。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">	        // TODO Auto-generated method stub</div><div class="line">	        //Collection是抽象的不能实例化，所以利用多态。</div><div class="line">	        Collection c=new ArrayList();</div><div class="line">	        c.add(&quot;哈哈&quot;);</div><div class="line">	        c.add(&quot;哈哈1&quot;);</div><div class="line">	        c.add(&quot;哈哈2&quot;);</div><div class="line">	        //所以Collection的tostring肯定重写了</div><div class="line">	        System.out.println(c.size()+&quot;.....&quot;+c);</div><div class="line">			//3 [哈哈, 哈哈1, 哈哈2]</div><div class="line">	        c.clear();//清空</div><div class="line">	        System.out.println(c);</div><div class="line">	    &#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>iterator:迭代器,是一个接口。</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">	        // TODO Auto-generated method stub</div><div class="line">	        //Collection是抽象的不能实例化，所以利用多态。</div><div class="line">	        Collection c=new ArrayList();</div><div class="line">	        c.add(&quot;哈哈&quot;);</div><div class="line">	        c.add(&quot;哈哈1&quot;);</div><div class="line">	        c.add(&quot;哈哈2&quot;);</div><div class="line">	        Iterator iterator=c.iterator();</div><div class="line">	        while (iterator.hasNext()) &#123;</div><div class="line">	            System.out.println(iterator.next());</div><div class="line">	        &#125;</div><div class="line">	    &#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>List特性：utils包下</strong><br>  List:元素有序，可重复。（有序与否指的是，存储顺序是否等于取出顺序）<br>  Set:元素无序，唯一。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">List list=new ArrayList&lt;&gt;();</div><div class="line">       list.add(&quot;1&quot;);</div><div class="line">       list.add(&quot;2&quot;);</div><div class="line">       list.add(&quot;3&quot;);</div><div class="line">       //在制定位置添加，后面的向后推，此时输出1，我是添加的，2，3</div><div class="line">       list.add(1, &quot;我是添加的&quot;);</div><div class="line">       String aString=(String) list.set(2, &quot;我是修改的&quot;);</div><div class="line">	//修改指定位置内容，返回修改的是修改前的2.但是遍历时候已经修改。</div><div class="line">       System.out.println(aString);//输出2</div><div class="line">       Iterator iterator=list.iterator();</div><div class="line">       //和上面区别是从指定位置开始迭代，前面的都舍弃。。此时输出3</div><div class="line">       //ListIterator iterator=list.listIterator(2);</div><div class="line">       while (iterator.hasNext()) &#123;</div><div class="line">           System.out.println(iterator.next());</div><div class="line">       &#125;</div><div class="line">输出是：1，2，3有序的.</div></pre></td></tr></table></figure>
<ul>
<li><strong>列表迭代器：ListIterator</strong><br>  和迭代器几乎没啥区别，但是其有特有功能。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">        List list=new ArrayList&lt;&gt;();</div><div class="line">        list.add(&quot;1&quot;);</div><div class="line">        list.add(&quot;2&quot;);</div><div class="line">        list.add(&quot;3&quot;);</div><div class="line">//        ListIterator li=list.listIterator();</div><div class="line">//        while (li.hasNext()) &#123;</div><div class="line">//            String str = (String) li.next();</div><div class="line">//            if (&quot;2&quot;.equals(str)) &#123;</div><div class="line">//                li.add(&quot;我是添加的&quot;);</div><div class="line">//注意此处是列表迭代器特有的add方法。是在查询到的位置之后添加，而不是添加到最后</div><div class="line">//如果使用for循环遍历也行，添加也可以，但是会添加到最后。</div><div class="line">//            &#125;</div><div class="line">//        &#125;</div><div class="line">//        System.out.println(list);//输出[1, 2, 我是添加的, 3]</div><div class="line"></div><div class="line"></div><div class="line">       //会报错并发修改异常。</div><div class="line">       Iterator li=list.iterator();</div><div class="line">       while (li.hasNext()) &#123;</div><div class="line">           String str = (String) li.next();</div><div class="line">           if (&quot;2&quot;.equals(str)) &#123;</div><div class="line">               list.add(&quot;我是添加de&quot;);</div><div class="line">//此处添加是List的添加，</div><div class="line">  //但是普通迭代器是依靠集合进行迭代，但是此时没有集合在迭代期间变化，</div><div class="line">但是迭代器还是上面new的，还没变化</div><div class="line">  //这种并发修改会报错。此时就必须利用ListIterator进行迭代，而后使用其特有的add（）。</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       System.out.println(list);</div><div class="line">   &#125;</div><div class="line"></div><div class="line">特有功能：</div><div class="line">public static void main(String[] args) &#123;</div><div class="line">        List list=new ArrayList&lt;&gt;();</div><div class="line">        list.add(&quot;1&quot;);</div><div class="line">        list.add(&quot;2&quot;);</div><div class="line">        list.add(&quot;3&quot;);</div><div class="line">        ListIterator li=list.listIterator();</div><div class="line">        while (li.hasNext()) &#123;</div><div class="line">            li.next();</div><div class="line">        &#125;</div><div class="line">        while (li.hasPrevious()) &#123;</div><div class="line">            String str = (String) li.previous();</div><div class="line">            System.out.println(str);//输出3，2，1</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>虽然成功逆向便利，但是有限制，使用previous必须先正向遍历,把游标从默认的最前方通过正向遍历移动到最后面，而后hasPrevious才有效果的。</p>
</blockquote>
<h2 id="第九部分"><a href="#第九部分" class="headerlink" title="第九部分"></a><strong>第九部分</strong></h2><ul>
<li><p><strong>线程安全（同步）：</strong><br>  List三个儿子特点：<br>  ArrayList:底层数据结构是数组，不同步效率高，查询快增删慢，长度可变的s数组<br>  Vector:底层数据结构是数组，同步效率低，查询快增删慢（不常用）<br>  LinkedList:底层数据结构是链表，不同步效率高，查询慢，增删快。</p>
</li>
<li><p><strong>增强for:用来替换迭代器，用于遍历集合和集合</strong></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">        // 增强for</div><div class="line">        int[] arr=&#123;1,2,3&#125;;</div><div class="line">        for(int x:arr)&#123;</div><div class="line">            System.out.println(x);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>增强for是对iterator的封装，所以也不能并发修改，不然也会报错。</p>
</blockquote>
<ul>
<li><strong>泛型方法，泛型类：</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">public class Demo &#123;</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        Tool sTool=new Tool();</div><div class="line">        sTool.show(&quot;heh&quot;);</div><div class="line">        sTool.show(12);//这地方内含自动装箱传递是INterger.</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//泛型方法</div><div class="line">class Tool&#123;</div><div class="line">    public&lt;BYD&gt; void show(BYD byd)&#123;</div><div class="line">        System.out.println(byd);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//泛型类</div><div class="line">class Tool&lt;BYD&gt;&#123;</div><div class="line">    public void show(BYD byd)&#123;</div><div class="line">        System.out.println(byd);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">补充：泛型接口：</div><div class="line">public class Demo &#123;</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        MyTools sTool=new MyTools();</div><div class="line">        sTool.show(&quot;heh&quot;);</div><div class="line">        sTool.show(12);//这地方内含自动装箱传递是INterger.</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">interface Tool&lt;BYD&gt;&#123;</div><div class="line">    public void show(BYD byd);</div><div class="line">&#125;</div><div class="line">class MyTools implements Tool&#123;</div><div class="line">    @Override</div><div class="line">    public void show(Object byd) &#123;//也可以写成BYD byd</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        System.out.println(byd);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>Set:不包含重复元素的集合，无序。是接口和list一样，所以需要实现类</strong><ol>
<li><blockquote>
<p>HashSet:底层哈希表，不同步效率高，无序，最主要的不保证每次无序效果相同。</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">        // TODO Auto-generated method stub</div><div class="line">        Set&lt;String&gt; s=new HashSet&lt;String&gt;();</div><div class="line">        s.add(&quot;hello&quot;);</div><div class="line">        s.add(&quot;world&quot;);</div><div class="line">        s.add(&quot;java&quot;);</div><div class="line">        s.add(&quot;java&quot;);</div><div class="line">        for(String ss:s)&#123;</div><div class="line">            System.out.println(ss);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>输出：world java hello，无序而且不重复。</p>
</blockquote>
<pre><code>2.  &gt; TreeSet:不同步，使用自然顺序（字典顺序）排序。
</code></pre><hr>
<pre><code>底层是二叉树结构。
小往右放，大往左放，这也是TreeSet按照字典排序的原因。
注意：TreeSet是按照自然排序进行的排序，如果传入的泛型是student这种类型
那么此时有各种属性，没法单纯的按照字典顺序排序，需要在对应的student类中
实现Comparator接口而后重写compare方法，根据需要更改这个方法内部逻辑。
方式二、而后新建类实现Comparator接口、而后重写compare（）。其实和上面方式几乎相同
但是可以避免经常修改student对象代码。
</code></pre><hr>
<h2 id="第十部分"><a href="#第十部分" class="headerlink" title="第十部分"></a>第十部分</h2><ul>
<li><strong>Map集合：无序，体现一一对应关系，这是List和Set不能体现的。是个接口</strong><br>  特点：键不能重复。<br>  Map:双列值集合，键不可重复。<br>  Collection:单列值集合。<blockquote>
<p>案例：</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">       // TODO Auto-generated method stub</div><div class="line">       Map&lt;String, String&gt; m=new HashMap&lt;&gt;();</div><div class="line">       m.put(&quot;hehe1&quot;, &quot;01&quot;);</div><div class="line">       m.put(&quot;hehe2&quot;, &quot;02&quot;);</div><div class="line">       m.put(&quot;hehe3&quot;, &quot;03&quot;);</div><div class="line">       System.out.println(m);</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：还可以存储自定义对象。<br>重要：注意为保证唯一，要重写student中的equals和hash code方法。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">		//题目，自定义student类为键，string位值，但是保证唯一性</div><div class="line">        //后面《》内部可省略，但是最好写上，jdk7新特性</div><div class="line">        Map&lt;Student, String&gt; m=new HashMap&lt;&gt;();</div><div class="line">        Student s1=new Student(12, &quot;武则天&quot;);</div><div class="line">        Student s2=new Student(13, &quot;物件通&quot;);</div><div class="line">        Student s3=new Student(12, &quot;武则天&quot;);</div><div class="line">        Student s4=new Student(20, &quot;武则天&quot;);</div><div class="line">        m.put(s1, &quot;01&quot;);</div><div class="line">        m.put(s2, &quot;02&quot;);</div><div class="line">        m.put(s3, &quot;03&quot;);</div><div class="line">        m.put(s4, &quot;04&quot;);</div><div class="line">        //补充知识点：m.entrySet()；返回的是键值对集合，即把全都返回来了。</div><div class="line">        Set&lt;Student&gt; s=m.keySet();//获取键集合</div><div class="line">        for(Student r:s)&#123;</div><div class="line">            String value=m.get(r);//注意此处。</div><div class="line">            System.out.println(r.getName()+&quot;...&quot;+r.getAge()+&quot;...&quot;+value);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<ul>
<li>TreeMap:二叉树结构，所以保证唯一性，重写Compare()方法.</li>
<li>HashMap和Hashtable区别：</li>
<li>Hashtable：线程安全，效率低，不允许null键和值</li>
<li>HashMap：线程不安全，效率高，允许null键和值<blockquote>
<p>注意：Map集合可以嵌套，即Map可以作为键或值传入另一个Map。</p>
</blockquote>
</li>
</ul>
<ul>
<li><strong>异常：</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">finally&#123;</div><div class="line">    释放资源（数据库，IO）</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>IO文件</strong><blockquote>
<p>1字符=2字节</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line">       // TODO Auto-generated method stub</div><div class="line">       //方式一、这只是指向变化，不会创建文件</div><div class="line">       //fw.createNewFile();这个才是创建文件。</div><div class="line">       File f1=new File(&quot;c:\\a.txt&quot;);//文件，如果不写路径，在当前目录创建</div><div class="line">       File fw=new File(&quot;c:\\a&quot;);//文件夹</div><div class="line">       //方式二、</div><div class="line">       File f2=new File(&quot;c:\\&quot;,&quot;a.txt&quot;);//文件</div><div class="line">       File fw2=new File(&quot;c:\\&quot;,&quot;a.txt&quot;);//文件夹</div><div class="line">       //方式二、</div><div class="line">       File f=new File(&quot;c:\\&quot;);</div><div class="line">       File f3=new File(f,&quot;a.txt&quot;);//文件</div><div class="line">       File fw3=new File(f,&quot;a.txt&quot;);//文件夹</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<hr>
<pre><code>补充：
创建多级目录
File fw=new File(&quot;aaa\\bbb\\ccc&quot;);//文件夹
fw.mkdirs();//创建文件夹，单级目录
File fw=new File(&quot;aaa&quot;);//文件夹
fw.mkdir();//注意此处不是mkdirs().
删除文件或文件夹：file.delete();
//删除什么取决于谁掉哦用，水调用就删除谁。
多级目录删除：必须从内部一级级删除，且删除不走回收站。
</code></pre><hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/06/Java查漏补缺（四）/" data-id="cj60seebm000y60nk8ho2bruu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Net/">.Net</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C语言/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Object-C/">Object C</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂类/">杂类</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/08/06/CSharp线程和通信/">进程和通信</a>
          </li>
        
          <li>
            <a href="/2017/08/06/Android版本DSBridge使用规则/">JsBridge</a>
          </li>
        
          <li>
            <a href="/2017/08/06/Android5.0新特性笔记/">Android 5.0新特性</a>
          </li>
        
          <li>
            <a href="/2017/08/06/Android 6.0权限/">Android 6.0权限</a>
          </li>
        
          <li>
            <a href="/2017/08/06/面向对象一/">面向对象一</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>